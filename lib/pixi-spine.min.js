var pixi_spine,__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();!function(t){!function(W){var q,t,g,e,r,n,H=(a.prototype.apply=function(t,e,r,n,a,i,o,s){if(null==t)throw new Error("skeleton cannot be null.");n&&0!=this.duration&&(r%=this.duration,0<e&&(e%=this.duration));for(var l=this.timelines,h=0,c=l.length;h<c;h++)l[h].apply(t,e,r,a,i,o,s)},a.binarySearch=function(t,e,r){void 0===r&&(r=1);var n=0,a=t.length/r-2;if(0==a)return r;for(var i=a>>>1;;){if(t[(i+1)*r]<=e?n=i+1:a=i,n==a)return(n+1)*r;i=n+a>>>1}},a.linearSearch=function(t,e,r){for(var n=0,a=t.length-r;n<=a;n+=r)if(t[n]>e)return n;return-1},a);function a(t,e,r){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=r}W.Animation=H,(t=q=W.MixBlend||(W.MixBlend={}))[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",(e=g=W.MixDirection||(W.MixDirection={}))[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",(n=r=W.TimelineType||(W.TimelineType={}))[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor";var i=(y.prototype.getFrameCount=function(){return this.curves.length/y.BEZIER_SIZE+1},y.prototype.setLinear=function(t){this.curves[t*y.BEZIER_SIZE]=y.LINEAR},y.prototype.setStepped=function(t){this.curves[t*y.BEZIER_SIZE]=y.STEPPED},y.prototype.getCurveType=function(t){var e=t*y.BEZIER_SIZE;if(e==this.curves.length)return y.LINEAR;var r=this.curves[e];return r==y.LINEAR?y.LINEAR:r==y.STEPPED?y.STEPPED:y.BEZIER},y.prototype.setCurve=function(t,e,r,n,a){var i=.03*(2*-e+n),o=.03*(2*-r+a),s=.006*(3*(e-n)+1),l=.006*(3*(r-a)+1),h=2*i+s,c=2*o+l,u=.3*e+i+.16666667*s,p=.3*r+o+.16666667*l,d=t*y.BEZIER_SIZE,f=this.curves;f[d++]=y.BEZIER;for(var m=u,g=p,v=d+y.BEZIER_SIZE-1;d<v;d+=2)f[d]=m,f[d+1]=g,u+=h,p+=c,h+=s,c+=l,m+=u,g+=p},y.prototype.getCurvePercent=function(t,e){e=W.MathUtils.clamp(e,0,1);var r=this.curves,n=t*y.BEZIER_SIZE,a=r[n];if(a==y.LINEAR)return e;if(a==y.STEPPED)return 0;for(var i=0,o=++n,s=n+y.BEZIER_SIZE-1;n<s;n+=2)if(e<=(i=r[n])){var l=void 0,h=void 0;return(h=n==o?l=0:(l=r[n-2],r[n-1]))+(r[n+1]-h)*(e-l)/(i-l)}var c=r[n-1];return c+(1-c)*(e-i)/(1-i)},y.LINEAR=0,y.STEPPED=1,y.BEZIER=2,y.BEZIER_SIZE=19,y);function y(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=W.Utils.newFloatArray((t-1)*y.BEZIER_SIZE)}W.CurveTimeline=i;var o,s=(__extends(v,o=i),v.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},v.prototype.setFrame=function(t,e,r){t<<=1,this.frames[t]=e,this.frames[t+v.ROTATION]=r},v.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return void(l.rotation=l.data.rotation);case q.first:var h=l.data.rotation-l.rotation;l.rotation+=(h-360*(16384-(16384.499999999996-h/360|0)))*a}else if(r>=s[s.length-v.ENTRIES]){var c=s[s.length+v.PREV_ROTATION];switch(i){case q.setup:l.rotation=l.data.rotation+c*a;break;case q.first:case q.replace:c+=l.data.rotation-l.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case q.add:l.rotation+=c*a}}else{var u=H.binarySearch(s,r,v.ENTRIES),p=s[u+v.PREV_ROTATION],d=s[u],f=this.getCurvePercent((u>>1)-1,1-(r-d)/(s[u+v.PREV_TIME]-d)),m=s[u+v.ROTATION]-p;switch(m=p+(m-360*(16384-(16384.499999999996-m/360|0)))*f,i){case q.setup:l.rotation=l.data.rotation+(m-360*(16384-(16384.499999999996-m/360|0)))*a;break;case q.first:case q.replace:m+=l.data.rotation-l.rotation;case q.add:l.rotation+=(m-360*(16384-(16384.499999999996-m/360|0)))*a}}},v.ENTRIES=2,v.PREV_TIME=-2,v.PREV_ROTATION=-1,v.ROTATION=1,v);function v(t){var e=o.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t<<1),e}W.RotateTimeline=s;var l,h=(__extends(f,l=i),f.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,r,n){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.X]=r,this.frames[t+f.Y]=n},f.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return l.x=l.data.x,void(l.y=l.data.y);case q.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var h=0,c=0;if(r>=s[s.length-f.ENTRIES])h=s[s.length+f.PREV_X],c=s[s.length+f.PREV_Y];else{var u=H.binarySearch(s,r,f.ENTRIES);h=s[u+f.PREV_X],c=s[u+f.PREV_Y];var p=s[u],d=this.getCurvePercent(u/f.ENTRIES-1,1-(r-p)/(s[u+f.PREV_TIME]-p));h+=(s[u+f.X]-h)*d,c+=(s[u+f.Y]-c)*d}switch(i){case q.setup:l.x=l.data.x+h*a,l.y=l.data.y+c*a;break;case q.first:case q.replace:l.x+=(l.data.x+h-l.x)*a,l.y+=(l.data.y+c-l.y)*a;break;case q.add:l.x+=h*a,l.y+=c*a}}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f);function f(t){var e=l.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*f.ENTRIES),e}W.TranslateTimeline=h;var c,u=(__extends(x,c=h),x.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},x.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case q.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var h=0,c=0;if(r>=s[s.length-x.ENTRIES])h=s[s.length+x.PREV_X]*l.data.scaleX,c=s[s.length+x.PREV_Y]*l.data.scaleY;else{var u=H.binarySearch(s,r,x.ENTRIES);h=s[u+x.PREV_X],c=s[u+x.PREV_Y];var p=s[u],d=this.getCurvePercent(u/x.ENTRIES-1,1-(r-p)/(s[u+x.PREV_TIME]-p));h=(h+(s[u+x.X]-h)*d)*l.data.scaleX,c=(c+(s[u+x.Y]-c)*d)*l.data.scaleY}if(1==a)i==q.add?(l.scaleX+=h-l.data.scaleX,l.scaleY+=c-l.data.scaleY):(l.scaleX=h,l.scaleY=c);else{var f=0,m=0;if(o==g.mixOut)switch(i){case q.setup:f=l.data.scaleX,m=l.data.scaleY,l.scaleX=f+(Math.abs(h)*W.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(c)*W.MathUtils.signum(m)-m)*a;break;case q.first:case q.replace:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(h)*W.MathUtils.signum(f)-f)*a,l.scaleY=m+(Math.abs(c)*W.MathUtils.signum(m)-m)*a;break;case q.add:f=l.scaleX,m=l.scaleY,l.scaleX=f+(Math.abs(h)*W.MathUtils.signum(f)-l.data.scaleX)*a,l.scaleY=m+(Math.abs(c)*W.MathUtils.signum(m)-l.data.scaleY)*a}else switch(i){case q.setup:f=Math.abs(l.data.scaleX)*W.MathUtils.signum(h),m=Math.abs(l.data.scaleY)*W.MathUtils.signum(c),l.scaleX=f+(h-f)*a,l.scaleY=m+(c-m)*a;break;case q.first:case q.replace:f=Math.abs(l.scaleX)*W.MathUtils.signum(h),m=Math.abs(l.scaleY)*W.MathUtils.signum(c),l.scaleX=f+(h-f)*a,l.scaleY=m+(c-m)*a;break;case q.add:f=W.MathUtils.signum(h),m=W.MathUtils.signum(c),l.scaleX=Math.abs(l.scaleX)*f+(h-Math.abs(l.data.scaleX)*f)*a,l.scaleY=Math.abs(l.scaleY)*m+(c-Math.abs(l.data.scaleY)*m)*a}}}},x);function x(t){return c.call(this,t)||this}W.ScaleTimeline=u;var p,d=(__extends(m,p=h),m.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},m.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.bones[this.boneIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case q.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var h=0,c=0;if(r>=s[s.length-m.ENTRIES])h=s[s.length+m.PREV_X],c=s[s.length+m.PREV_Y];else{var u=H.binarySearch(s,r,m.ENTRIES);h=s[u+m.PREV_X],c=s[u+m.PREV_Y];var p=s[u],d=this.getCurvePercent(u/m.ENTRIES-1,1-(r-p)/(s[u+m.PREV_TIME]-p));h+=(s[u+m.X]-h)*d,c+=(s[u+m.Y]-c)*d}switch(i){case q.setup:l.shearX=l.data.shearX+h*a,l.shearY=l.data.shearY+c*a;break;case q.first:case q.replace:l.shearX+=(l.data.shearX+h-l.shearX)*a,l.shearY+=(l.data.shearY+c-l.shearY)*a;break;case q.add:l.shearX+=h*a,l.shearY+=c*a}}},m);function m(t){return p.call(this,t)||this}W.ShearTimeline=d;var M,w=(__extends(E,M=i),E.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},E.prototype.setFrame=function(t,e,r,n,a,i){t*=E.ENTRIES,this.frames[t]=e,this.frames[t+E.R]=r,this.frames[t+E.G]=n,this.frames[t+E.B]=a,this.frames[t+E.A]=i},E.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(r<l[0])switch(i){case q.setup:return void s.color.setFromColor(s.data.color);case q.first:var h=s.color,c=s.data.color;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}else{var u=0,p=0,d=0,f=0;if(r>=l[l.length-E.ENTRIES]){var m=l.length;u=l[m+E.PREV_R],p=l[m+E.PREV_G],d=l[m+E.PREV_B],f=l[m+E.PREV_A]}else{var g=H.binarySearch(l,r,E.ENTRIES);u=l[g+E.PREV_R],p=l[g+E.PREV_G],d=l[g+E.PREV_B],f=l[g+E.PREV_A];var v=l[g],y=this.getCurvePercent(g/E.ENTRIES-1,1-(r-v)/(l[g+E.PREV_TIME]-v));u+=(l[g+E.R]-u)*y,p+=(l[g+E.G]-p)*y,d+=(l[g+E.B]-d)*y,f+=(l[g+E.A]-f)*y}1==a?s.color.set(u,p,d,f):(h=s.color,i==q.setup&&h.setFromColor(s.data.color),h.add((u-h.r)*a,(p-h.g)*a,(d-h.b)*a,(f-h.a)*a))}}},E.ENTRIES=5,E.PREV_TIME=-5,E.PREV_R=-4,E.PREV_G=-3,E.PREV_B=-2,E.PREV_A=-1,E.R=1,E.G=2,E.B=3,E.A=4,E);function E(t){var e=M.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*E.ENTRIES),e}W.ColorTimeline=w;var T,b=(__extends(S,T=i),S.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},S.prototype.setFrame=function(t,e,r,n,a,i,o,s,l){t*=S.ENTRIES,this.frames[t]=e,this.frames[t+S.R]=r,this.frames[t+S.G]=n,this.frames[t+S.B]=a,this.frames[t+S.A]=i,this.frames[t+S.R2]=o,this.frames[t+S.G2]=s,this.frames[t+S.B2]=l},S.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=this.frames;if(r<l[0])switch(i){case q.setup:return s.color.setFromColor(s.data.color),void s.darkColor.setFromColor(s.data.darkColor);case q.first:var h=s.color,c=s.darkColor,u=s.data.color,p=s.data.darkColor;h.add((u.r-h.r)*a,(u.g-h.g)*a,(u.b-h.b)*a,(u.a-h.a)*a),c.add((p.r-c.r)*a,(p.g-c.g)*a,(p.b-c.b)*a,0)}else{var d=0,f=0,m=0,g=0,v=0,y=0,x=0;if(r>=l[l.length-S.ENTRIES]){var M=l.length;d=l[M+S.PREV_R],f=l[M+S.PREV_G],m=l[M+S.PREV_B],g=l[M+S.PREV_A],v=l[M+S.PREV_R2],y=l[M+S.PREV_G2],x=l[M+S.PREV_B2]}else{var w=H.binarySearch(l,r,S.ENTRIES);d=l[w+S.PREV_R],f=l[w+S.PREV_G],m=l[w+S.PREV_B],g=l[w+S.PREV_A],v=l[w+S.PREV_R2],y=l[w+S.PREV_G2],x=l[w+S.PREV_B2];var E=l[w],T=this.getCurvePercent(w/S.ENTRIES-1,1-(r-E)/(l[w+S.PREV_TIME]-E));d+=(l[w+S.R]-d)*T,f+=(l[w+S.G]-f)*T,m+=(l[w+S.B]-m)*T,g+=(l[w+S.A]-g)*T,v+=(l[w+S.R2]-v)*T,y+=(l[w+S.G2]-y)*T,x+=(l[w+S.B2]-x)*T}1==a?(s.color.set(d,f,m,g),s.darkColor.set(v,y,x,1)):(h=s.color,c=s.darkColor,i==q.setup&&(h.setFromColor(s.data.color),c.setFromColor(s.data.darkColor)),h.add((d-h.r)*a,(f-h.g)*a,(m-h.b)*a,(g-h.a)*a),c.add((v-c.r)*a,(y-c.g)*a,(x-c.b)*a,0))}}},S.ENTRIES=8,S.PREV_TIME=-8,S.PREV_R=-7,S.PREV_G=-6,S.PREV_B=-5,S.PREV_A=-4,S.PREV_R2=-3,S.PREV_G2=-2,S.PREV_B2=-1,S.R=1,S.G=2,S.B=3,S.A=4,S.R2=5,S.G2=6,S.B2=7,S);function S(t){var e=T.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*S.ENTRIES),e}W.TwoColorTimeline=b;var I=(A.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},A.prototype.getFrameCount=function(){return this.frames.length},A.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.attachmentNames[t]=r},A.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active)if(o!=g.mixOut||i!=q.setup){var l=this.frames;if(r<l[0]){if(i==q.setup||i==q.first){var h=s.data.attachmentName;s.setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}else{var c=0;c=r>=l[l.length-1]?l.length-1:H.binarySearch(l,r,1)-1;var u=this.attachmentNames[c];t.slots[this.slotIndex].setAttachment(null==u?null:t.getAttachment(this.slotIndex,u))}}else{var p=s.data.attachmentName;s.setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}},A);function A(t){this.frames=W.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}W.AttachmentTimeline=I;var R,C=null,P=(__extends(V,R=i),V.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},V.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.frameVertices[t]=r},V.prototype.apply=function(t,e,r,n,a,i,o){var s=t.slots[this.slotIndex];if(s.bone.active){var l=s.getAttachment();if(l instanceof W.VertexAttachment&&l.deformAttachment==this.attachment){var h=s.deform;0==h.length&&(i=q.setup);var c=this.frameVertices,u=c[0].length,p=this.frames;if(r<p[0]){var d=l;switch(i){case q.setup:return void(h.length=0);case q.first:if(1==a){h.length=0;break}var f=W.Utils.setArraySize(h,u);if(null==d.bones)for(var m=d.vertices,g=0;g<u;g++)f[g]+=(m[g]-f[g])*a;else for(a=1-a,g=0;g<u;g++)f[g]*=a}}else{var v=W.Utils.setArraySize(h,u);if(r>=p[p.length-1]){var y=c[p.length-1];if(1==a)if(i==q.add)if(null==(d=l).bones){m=d.vertices;for(var x=0;x<u;x++)v[x]+=y[x]-m[x]}else for(var M=0;M<u;M++)v[M]+=y[M];else W.Utils.arrayCopy(y,0,v,0,u);else switch(i){case q.setup:var w=l;if(null==w.bones){m=w.vertices;for(var E=0;E<u;E++){var T=m[E];v[E]=T+(y[E]-T)*a}}else for(var b=0;b<u;b++)v[b]=y[b]*a;break;case q.first:case q.replace:for(var S=0;S<u;S++)v[S]+=(y[S]-v[S])*a;case q.add:if(null==(d=l).bones){m=d.vertices;for(var I=0;I<u;I++)v[I]+=(y[I]-m[I])*a}else for(var A=0;A<u;A++)v[A]+=y[A]*a}}else{var R=H.binarySearch(p,r),C=c[R-1],P=c[R],V=p[R],k=this.getCurvePercent(R-1,1-(r-V)/(p[R-1]-V));if(1==a)if(i==q.add)if(null==(d=l).bones){m=d.vertices;for(var _=0;_<u;_++){var N=C[_];v[_]+=N+(P[_]-N)*k-m[_]}}else for(var F=0;F<u;F++)N=C[F],v[F]+=N+(P[F]-N)*k;else for(var O=0;O<u;O++)N=C[O],v[O]=N+(P[O]-N)*k;else switch(i){case q.setup:var D=l;if(null==D.bones){m=D.vertices;for(var U=0;U<u;U++)N=C[U],T=m[U],v[U]=T+(N+(P[U]-N)*k-T)*a}else for(var X=0;X<u;X++)N=C[X],v[X]=(N+(P[X]-N)*k)*a;break;case q.first:case q.replace:for(var B=0;B<u;B++)N=C[B],v[B]+=(N+(P[B]-N)*k-v[B])*a;break;case q.add:if(null==(d=l).bones){m=d.vertices;for(var L=0;L<u;L++)N=C[L],v[L]+=(N+(P[L]-N)*k-m[L])*a}else for(var Y=0;Y<u;Y++)N=C[Y],v[Y]+=(N+(P[Y]-N)*k)*a}}}}}},V);function V(t){var e=R.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==C&&(C=W.Utils.newFloatArray(64)),e}W.DeformTimeline=P;var k=(_.prototype.getPropertyId=function(){return r.event<<24},_.prototype.getFrameCount=function(){return this.frames.length},_.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},_.prototype.apply=function(t,e,r,n,a,i,o){if(null!=n){var s=this.frames,l=this.frames.length;if(r<e)this.apply(t,e,Number.MAX_VALUE,n,a,i,o),e=-1;else if(e>=s[l-1])return;if(!(r<s[0])){var h=0;if(e<s[0])h=0;else for(var c=s[h=H.binarySearch(s,e)];0<h&&s[h-1]==c;)h--;for(;h<l&&r>=s[h];h++)n.push(this.events[h])}}},_);function _(t){this.frames=W.Utils.newFloatArray(t),this.events=new Array(t)}W.EventTimeline=k;var N=(F.prototype.getPropertyId=function(){return r.drawOrder<<24},F.prototype.getFrameCount=function(){return this.frames.length},F.prototype.setFrame=function(t,e,r){this.frames[t]=e,this.drawOrders[t]=r},F.prototype.apply=function(t,e,r,n,a,i,o){var s=t.drawOrder,l=t.slots;if(o!=g.mixOut||i!=q.setup){var h=this.frames;if(r<h[0])i!=q.setup&&i!=q.first||W.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0;c=r>=h[h.length-1]?h.length-1:H.binarySearch(h,r)-1;var u=this.drawOrders[c];if(null==u)W.Utils.arrayCopy(l,0,s,0,l.length);else for(var p=0,d=u.length;p<d;p++)s[p]=l[u[p]]}}else W.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},F);function F(t){this.frames=W.Utils.newFloatArray(t),this.drawOrders=new Array(t)}W.DrawOrderTimeline=N;var O,D=(__extends(U,O=i),U.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},U.prototype.setFrame=function(t,e,r,n,a,i,o){t*=U.ENTRIES,this.frames[t]=e,this.frames[t+U.MIX]=r,this.frames[t+U.SOFTNESS]=n,this.frames[t+U.BEND_DIRECTION]=a,this.frames[t+U.COMPRESS]=i?1:0,this.frames[t+U.STRETCH]=o?1:0},U.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case q.first:l.mix+=(l.data.mix-l.mix)*a,l.softness+=(l.data.softness-l.softness)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(r>=s[s.length-U.ENTRIES])i==q.setup?(l.mix=l.data.mix+(s[s.length+U.PREV_MIX]-l.data.mix)*a,l.softness=l.data.softness+(s[s.length+U.PREV_SOFTNESS]-l.data.softness)*a,o==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=s[s.length+U.PREV_BEND_DIRECTION],l.compress=0!=s[s.length+U.PREV_COMPRESS],l.stretch=0!=s[s.length+U.PREV_STRETCH])):(l.mix+=(s[s.length+U.PREV_MIX]-l.mix)*a,l.softness+=(s[s.length+U.PREV_SOFTNESS]-l.softness)*a,o==g.mixIn&&(l.bendDirection=s[s.length+U.PREV_BEND_DIRECTION],l.compress=0!=s[s.length+U.PREV_COMPRESS],l.stretch=0!=s[s.length+U.PREV_STRETCH]));else{var h=H.binarySearch(s,r,U.ENTRIES),c=s[h+U.PREV_MIX],u=s[h+U.PREV_SOFTNESS],p=s[h],d=this.getCurvePercent(h/U.ENTRIES-1,1-(r-p)/(s[h+U.PREV_TIME]-p));i==q.setup?(l.mix=l.data.mix+(c+(s[h+U.MIX]-c)*d-l.data.mix)*a,l.softness=l.data.softness+(u+(s[h+U.SOFTNESS]-u)*d-l.data.softness)*a,o==g.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=s[h+U.PREV_BEND_DIRECTION],l.compress=0!=s[h+U.PREV_COMPRESS],l.stretch=0!=s[h+U.PREV_STRETCH])):(l.mix+=(c+(s[h+U.MIX]-c)*d-l.mix)*a,l.softness+=(u+(s[h+U.SOFTNESS]-u)*d-l.softness)*a,o==g.mixIn&&(l.bendDirection=s[h+U.PREV_BEND_DIRECTION],l.compress=0!=s[h+U.PREV_COMPRESS],l.stretch=0!=s[h+U.PREV_STRETCH]))}},U.ENTRIES=6,U.PREV_TIME=-6,U.PREV_MIX=-5,U.PREV_SOFTNESS=-4,U.PREV_BEND_DIRECTION=-3,U.PREV_COMPRESS=-2,U.PREV_STRETCH=-1,U.MIX=1,U.SOFTNESS=2,U.BEND_DIRECTION=3,U.COMPRESS=4,U.STRETCH=5,U);function U(t){var e=O.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*U.ENTRIES),e}W.IkConstraintTimeline=D;var X,B=(__extends(L,X=i),L.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},L.prototype.setFrame=function(t,e,r,n,a,i){t*=L.ENTRIES,this.frames[t]=e,this.frames[t+L.ROTATE]=r,this.frames[t+L.TRANSLATE]=n,this.frames[t+L.SCALE]=a,this.frames[t+L.SHEAR]=i},L.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(r<s[0]){var h=l.data;switch(i){case q.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case q.first:l.rotateMix+=(h.rotateMix-l.rotateMix)*a,l.translateMix+=(h.translateMix-l.translateMix)*a,l.scaleMix+=(h.scaleMix-l.scaleMix)*a,l.shearMix+=(h.shearMix-l.shearMix)*a}}else{var c=0,u=0,p=0,d=0;if(r>=s[s.length-L.ENTRIES]){var f=s.length;c=s[f+L.PREV_ROTATE],u=s[f+L.PREV_TRANSLATE],p=s[f+L.PREV_SCALE],d=s[f+L.PREV_SHEAR]}else{var m=H.binarySearch(s,r,L.ENTRIES);c=s[m+L.PREV_ROTATE],u=s[m+L.PREV_TRANSLATE],p=s[m+L.PREV_SCALE],d=s[m+L.PREV_SHEAR];var g=s[m],v=this.getCurvePercent(m/L.ENTRIES-1,1-(r-g)/(s[m+L.PREV_TIME]-g));c+=(s[m+L.ROTATE]-c)*v,u+=(s[m+L.TRANSLATE]-u)*v,p+=(s[m+L.SCALE]-p)*v,d+=(s[m+L.SHEAR]-d)*v}i==q.setup?(h=l.data,l.rotateMix=h.rotateMix+(c-h.rotateMix)*a,l.translateMix=h.translateMix+(u-h.translateMix)*a,l.scaleMix=h.scaleMix+(p-h.scaleMix)*a,l.shearMix=h.shearMix+(d-h.shearMix)*a):(l.rotateMix+=(c-l.rotateMix)*a,l.translateMix+=(u-l.translateMix)*a,l.scaleMix+=(p-l.scaleMix)*a,l.shearMix+=(d-l.shearMix)*a)}},L.ENTRIES=5,L.PREV_TIME=-5,L.PREV_ROTATE=-4,L.PREV_TRANSLATE=-3,L.PREV_SCALE=-2,L.PREV_SHEAR=-1,L.ROTATE=1,L.TRANSLATE=2,L.SCALE=3,L.SHEAR=4,L);function L(t){var e=X.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*L.ENTRIES),e}W.TransformConstraintTimeline=B;var Y,j=(__extends(G,Y=i),G.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},G.prototype.setFrame=function(t,e,r){t*=G.ENTRIES,this.frames[t]=e,this.frames[t+G.VALUE]=r},G.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return void(l.position=l.data.position);case q.first:l.position+=(l.data.position-l.position)*a}else{var h=0;if(r>=s[s.length-G.ENTRIES])h=s[s.length+G.PREV_VALUE];else{var c=H.binarySearch(s,r,G.ENTRIES);h=s[c+G.PREV_VALUE];var u=s[c],p=this.getCurvePercent(c/G.ENTRIES-1,1-(r-u)/(s[c+G.PREV_TIME]-u));h+=(s[c+G.VALUE]-h)*p}i==q.setup?l.position=l.data.position+(h-l.data.position)*a:l.position+=(h-l.position)*a}},G.ENTRIES=2,G.PREV_TIME=-2,G.PREV_VALUE=-1,G.VALUE=1,G);function G(t){var e=Y.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*G.ENTRIES),e}W.PathConstraintPositionTimeline=j;var z,Z=(__extends(J,z=j),J.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},J.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return void(l.spacing=l.data.spacing);case q.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var h=0;if(r>=s[s.length-J.ENTRIES])h=s[s.length+J.PREV_VALUE];else{var c=H.binarySearch(s,r,J.ENTRIES);h=s[c+J.PREV_VALUE];var u=s[c],p=this.getCurvePercent(c/J.ENTRIES-1,1-(r-u)/(s[c+J.PREV_TIME]-u));h+=(s[c+J.VALUE]-h)*p}i==q.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*a:l.spacing+=(h-l.spacing)*a}},J);function J(t){return z.call(this,t)||this}W.PathConstraintSpacingTimeline=Z;var Q,K=(__extends($,Q=i),$.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},$.prototype.setFrame=function(t,e,r,n){t*=$.ENTRIES,this.frames[t]=e,this.frames[t+$.ROTATE]=r,this.frames[t+$.TRANSLATE]=n},$.prototype.apply=function(t,e,r,n,a,i,o){var s=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(r<s[0])switch(i){case q.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case q.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var h=0,c=0;if(r>=s[s.length-$.ENTRIES])h=s[s.length+$.PREV_ROTATE],c=s[s.length+$.PREV_TRANSLATE];else{var u=H.binarySearch(s,r,$.ENTRIES);h=s[u+$.PREV_ROTATE],c=s[u+$.PREV_TRANSLATE];var p=s[u],d=this.getCurvePercent(u/$.ENTRIES-1,1-(r-p)/(s[u+$.PREV_TIME]-p));h+=(s[u+$.ROTATE]-h)*d,c+=(s[u+$.TRANSLATE]-c)*d}i==q.setup?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(c-l.data.translateMix)*a):(l.rotateMix+=(h-l.rotateMix)*a,l.translateMix+=(c-l.translateMix)*a)}},$.ENTRIES=3,$.PREV_TIME=-3,$.PREV_ROTATE=-2,$.PREV_TRANSLATE=-1,$.ROTATE=1,$.TRANSLATE=2,$);function $(t){var e=Q.call(this,t)||this;return e.frames=W.Utils.newFloatArray(t*$.ENTRIES),e}W.PathConstraintMixTimeline=K}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(b){var t=(S.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,r=0,n=e.length;r<n;r++){var a=e[r];if(null!=a){a.animationLast=a.nextAnimationLast,a.trackLast=a.nextTrackLast;var i=t*a.timeScale;if(0<a.delay){if(a.delay-=i,0<a.delay)continue;i=-a.delay,a.delay=0}var o=a.next;if(null!=o){var s=a.trackLast-o.delay;if(0<=s){for(o.delay=0,o.trackTime=0==a.timeScale?0:(s/a.timeScale+t)*o.timeScale,a.trackTime+=i,this.setCurrent(r,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(a.trackLast>=a.trackEnd&&null==a.mixingFrom){e[r]=null,this.queue.end(a),this.disposeNext(a);continue}if(null!=a.mixingFrom&&this.updateMixingFrom(a,t)){var l=a.mixingFrom;for((a.mixingFrom=null)!=l&&(l.mixingTo=null);null!=l;)this.queue.end(l),l=l.mixingFrom}a.trackTime+=i}}this.queue.drain()},S.prototype.updateMixingFrom=function(t,e){var r=t.mixingFrom;if(null==r)return!0;var n=this.updateMixingFrom(r,e);return r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=r.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=r.mixingFrom,null!=r.mixingFrom&&(r.mixingFrom.mixingTo=t),t.interruptAlpha=r.interruptAlpha,this.queue.end(r)),n):(r.trackTime+=e*r.timeScale,t.mixTime+=e,!1)},S.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,r=this.tracks,n=!1,a=0,i=r.length;a<i;a++){var o=r[a];if(!(null==o||0<o.delay)){n=!0;var s=0==a?b.MixBlend.first:o.mixBlend,l=o.alpha;null!=o.mixingFrom?l*=this.applyMixingFrom(o,t,s):o.trackTime>=o.trackEnd&&null==o.next&&(l=0);var h=o.animationLast,c=o.getAnimationTime(),u=o.animation.timelines.length,p=o.animation.timelines;if(0==a&&1==l||s==b.MixBlend.add)for(var d=0;d<u;d++)b.Utils.webkit602BugfixHelper(l,s),p[d].apply(t,h,c,e,l,s,b.MixDirection.mixIn);else{var f=o.timelineMode,m=0==o.timelinesRotation.length;m&&b.Utils.setArraySize(o.timelinesRotation,u<<1,null);var g=o.timelinesRotation;for(d=0;d<u;d++){var v=p[d],y=(f[d]&S.NOT_LAST-1)==S.SUBSEQUENT?s:b.MixBlend.setup;v instanceof b.RotateTimeline?this.applyRotateTimeline(v,t,c,l,y,g,d<<1,m):(b.Utils.webkit602BugfixHelper(l,s),v.apply(t,h,c,e,l,y,b.MixDirection.mixIn))}}this.queueEvents(o,c),e.length=0,o.nextAnimationLast=c,o.nextTrackLast=o.trackTime}}return this.queue.drain(),n},S.prototype.applyMixingFrom=function(t,e,r){var n=t.mixingFrom;null!=n.mixingFrom&&this.applyMixingFrom(n,e,r);var a=0;0==t.mixDuration?(a=1,r==b.MixBlend.first&&(r=b.MixBlend.setup)):(1<(a=t.mixTime/t.mixDuration)&&(a=1),r!=b.MixBlend.first&&(r=n.mixBlend));var i=a<n.eventThreshold?this.events:null,o=a<n.attachmentThreshold,s=a<n.drawOrderThreshold,l=n.animationLast,h=n.getAnimationTime(),c=n.animation.timelines.length,u=n.animation.timelines,p=n.alpha*t.interruptAlpha,d=p*(1-a);if(r==b.MixBlend.add)for(var f=0;f<c;f++)u[f].apply(e,l,h,i,d,r,b.MixDirection.mixOut);else{var m=n.timelineMode,g=n.timelineHoldMix,v=0==n.timelinesRotation.length;v&&b.Utils.setArraySize(n.timelinesRotation,c<<1,null);var y=n.timelinesRotation;for(f=n.totalAlpha=0;f<c;f++){var x=u[f],M=b.MixDirection.mixOut,w=void 0,E=0;switch(m[f]&S.NOT_LAST-1){case S.SUBSEQUENT:if(!o&&x instanceof b.AttachmentTimeline){if((m[f]&S.NOT_LAST)==S.NOT_LAST)continue;r=b.MixBlend.setup}if(!s&&x instanceof b.DrawOrderTimeline)continue;w=r,E=d;break;case S.FIRST:w=b.MixBlend.setup,E=d;break;case S.HOLD:w=b.MixBlend.setup,E=p;break;default:w=b.MixBlend.setup;var T=g[f];E=p*Math.max(0,1-T.mixTime/T.mixDuration)}n.totalAlpha+=E,x instanceof b.RotateTimeline?this.applyRotateTimeline(x,e,h,E,w,y,f<<1,v):(b.Utils.webkit602BugfixHelper(E,r),w==b.MixBlend.setup&&(x instanceof b.AttachmentTimeline?!o&&(m[f]&S.NOT_LAST)!=S.NOT_LAST||(M=b.MixDirection.mixIn):x instanceof b.DrawOrderTimeline&&s&&(M=b.MixDirection.mixIn)),x.apply(e,l,h,i,E,w,M))}}return 0<t.mixDuration&&this.queueEvents(n,h),this.events.length=0,n.nextAnimationLast=h,n.nextTrackLast=n.trackTime,a},S.prototype.applyRotateTimeline=function(t,e,r,n,a,i,o,s){if(s&&(i[o]=0),1!=n){var l=t,h=l.frames,c=e.bones[l.boneIndex];if(c.active){var u=0,p=0;if(r<h[0])switch(a){case b.MixBlend.setup:c.rotation=c.data.rotation;default:return;case b.MixBlend.first:u=c.rotation,p=c.data.rotation}else if(u=a==b.MixBlend.setup?c.data.rotation:c.rotation,r>=h[h.length-b.RotateTimeline.ENTRIES])p=c.data.rotation+h[h.length+b.RotateTimeline.PREV_ROTATION];else{var d=b.Animation.binarySearch(h,r,b.RotateTimeline.ENTRIES),f=h[d+b.RotateTimeline.PREV_ROTATION],m=h[d],g=l.getCurvePercent((d>>1)-1,1-(r-m)/(h[d+b.RotateTimeline.PREV_TIME]-m));p=h[d+b.RotateTimeline.ROTATION]-f,p=f+(p-=360*(16384-(16384.499999999996-p/360|0)))*g+c.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var v=0,y=p-u;if(0==(y-=360*(16384-(16384.499999999996-y/360|0))))v=i[o];else{var x=0,M=0;M=s?(x=0,y):(x=i[o],i[o+1]);var w=0<y,E=0<=x;b.MathUtils.signum(M)!=b.MathUtils.signum(y)&&Math.abs(M)<=90&&(180<Math.abs(x)&&(x+=360*b.MathUtils.signum(x)),E=w),v=y+x-x%360,E!=w&&(v+=360*b.MathUtils.signum(x)),i[o]=v}i[o+1]=y,u+=v*n,c.rotation=u-360*(16384-(16384.499999999996-u/360|0))}}else t.apply(e,0,r,null,1,a,b.MixDirection.mixIn)},S.prototype.queueEvents=function(t,e){for(var r=t.animationStart,n=t.animationEnd,a=n-r,i=t.trackLast%a,o=this.events,s=0,l=o.length;s<l;s++){var h=o[s];if(h.time<i)break;h.time>n||this.queue.event(t,h)}for((t.loop?0==a||i>t.trackTime%a:n<=e&&t.animationLast<n)&&this.queue.complete(t);s<l;s++)o[s].time<r||this.queue.event(t,o[s])},S.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,r=this.tracks.length;e<r;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},S.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var r=e;;){var n=r.mixingFrom;if(null==n)break;this.queue.end(n),r.mixingFrom=null,r.mixingTo=null,r=n}this.tracks[e.trackIndex]=null,this.queue.drain()}}},S.prototype.setCurrent=function(t,e,r){var n=this.expandToIndex(t);this.tracks[t]=e,null!=n&&(r&&this.queue.interrupt(n),((e.mixingFrom=n).mixingTo=e).mixTime=0,null!=n.mixingFrom&&0<n.mixDuration&&(e.interruptAlpha*=Math.min(1,n.mixTime/n.mixDuration)),n.timelinesRotation.length=0),this.queue.start(e)},S.prototype.setAnimation=function(t,e,r){var n=this.data.skeletonData.findAnimation(e);if(null==n)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,n,r)},S.prototype.setAnimationWith=function(t,e,r){if(null==e)throw new Error("animation cannot be null.");var n=!0,a=this.expandToIndex(t);null!=a&&(-1==a.nextTrackLast?(this.tracks[t]=a.mixingFrom,this.queue.interrupt(a),this.queue.end(a),this.disposeNext(a),a=a.mixingFrom,n=!1):this.disposeNext(a));var i=this.trackEntry(t,e,r,a);return this.setCurrent(t,i,n),this.queue.drain(),i},S.prototype.addAnimation=function(t,e,r,n){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,r,n)},S.prototype.addAnimationWith=function(t,e,r,n){if(null==e)throw new Error("animation cannot be null.");var a=this.expandToIndex(t);if(null!=a)for(;null!=a.next;)a=a.next;var i=this.trackEntry(t,e,r,a);if(null==a)this.setCurrent(t,i,!0),this.queue.drain();else if(a.next=i,n<=0){var o=a.animationEnd-a.animationStart;0!=o?(a.loop?n+=o*(1+(a.trackTime/o|0)):n+=Math.max(o,a.trackTime),n-=this.data.getMix(a.animation,e)):n=a.trackTime}return i.delay=n,i},S.prototype.setEmptyAnimation=function(t,e){var r=this.setAnimationWith(t,S.emptyAnimation,!1);return r.mixDuration=e,r.trackEnd=e,r},S.prototype.addEmptyAnimation=function(t,e,r){r<=0&&(r-=e);var n=this.addAnimationWith(t,S.emptyAnimation,!1,r);return n.mixDuration=e,n.trackEnd=e,n},S.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var r=0,n=this.tracks.length;r<n;r++){var a=this.tracks[r];null!=a&&this.setEmptyAnimation(a.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},S.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(b.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},S.prototype.trackEntry=function(t,e,r,n){var a=this.trackEntryPool.obtain();return a.trackIndex=t,a.animation=e,a.loop=r,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=e.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==n?0:this.data.getMix(n.animation,e),a},S.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},S.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++)if(null!=(r=this.tracks[t])){for(;null!=r.mixingFrom;)r=r.mixingFrom;for(;null!=r.mixingFrom&&r.mixBlend==b.MixBlend.add||this.computeHold(r),null!=(r=r.mixingTo););}for(this.propertyIDs.clear(),t=this.tracks.length-1;0<=t;t--)for(var r=this.tracks[t];null!=r;)this.computeNotLast(r),r=r.mixingFrom},S.prototype.computeHold=function(t){var e=t.mixingTo,r=t.animation.timelines,n=t.animation.timelines.length,a=b.Utils.setArraySize(t.timelineMode,n);t.timelineHoldMix.length=0;var i=b.Utils.setArraySize(t.timelineHoldMix,n),o=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var s=0;s<n;s++)o.add(r[s].getPropertyId()),a[s]=S.HOLD;else t:for(s=0;s<n;s++){var l=r[s],h=l.getPropertyId();if(o.add(h))if(null==e||l instanceof b.AttachmentTimeline||l instanceof b.DrawOrderTimeline||l instanceof b.EventTimeline||!this.hasTimeline(e,h))a[s]=S.FIRST;else{for(var c=e.mixingTo;null!=c;c=c.mixingTo)if(!this.hasTimeline(c,h)){if(0<t.mixDuration){a[s]=S.HOLD_MIX,i[s]=c;continue t}break}a[s]=S.HOLD}else a[s]=S.SUBSEQUENT}},S.prototype.computeNotLast=function(t){for(var e=t.animation.timelines,r=t.animation.timelines.length,n=t.timelineMode,a=this.propertyIDs,i=0;i<r;i++)if(e[i]instanceof b.AttachmentTimeline){var o=e[i];a.add(o.slotIndex)||(n[i]|=S.NOT_LAST)}},S.prototype.hasTimeline=function(t,e){for(var r=t.animation.timelines,n=0,a=r.length;n<a;n++)if(r[n].getPropertyId()==e)return!0;return!1},S.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},S.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},S.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},S.prototype.clearListeners=function(){this.listeners.length=0},S.prototype.clearListenerNotifications=function(){this.queue.clear()},S.prototype.setAnimationByName=function(t,e,r){S.deprecatedWarning1||(S.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(t,e,r)},S.prototype.addAnimationByName=function(t,e,r,n){S.deprecatedWarning2||(S.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(t,e,r,n)},S.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},S.prototype.hasAnimationByName=function(t){return S.deprecatedWarning3||(S.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(t)},S.emptyAnimation=new b.Animation("<empty>",[],0),S.SUBSEQUENT=0,S.FIRST=1,S.HOLD=2,S.HOLD_MIX=3,S.NOT_LAST=4,S.deprecatedWarning1=!1,S.deprecatedWarning2=!1,S.deprecatedWarning3=!1,S);function S(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new a(this),this.propertyIDs=new b.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new b.Pool(function(){return new e}),this.data=t}b.AnimationState=t;var e=(r.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},r.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},r.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},r.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},r.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(r.prototype,"time",{get:function(){return r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"endTime",{get:function(){return r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime},set:function(t){r.deprecatedWarning2||(r.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=t},enumerable:!0,configurable:!0}),r.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},r.deprecatedWarning1=!1,r.deprecatedWarning2=!1,r);function r(){this.mixBlend=b.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}b.TrackEntry=e;var l,n,a=(i.prototype.start=function(t){this.objects.push(l.start),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.interrupt=function(t){this.objects.push(l.interrupt),this.objects.push(t)},i.prototype.end=function(t){this.objects.push(l.end),this.objects.push(t),this.animState.animationsChanged=!0},i.prototype.dispose=function(t){this.objects.push(l.dispose),this.objects.push(t)},i.prototype.complete=function(t){this.objects.push(l.complete),this.objects.push(t)},i.prototype.event=function(t,e){this.objects.push(l.event),this.objects.push(t),this.objects.push(e)},i.prototype.deprecateStuff=function(){return i.deprecatedWarning1||(i.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0},i.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];switch(n){case l.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var i=0;i<e.length;i++)e[i].start&&e[i].start(a);a.onStart&&this.deprecateStuff()&&a.onStart(a.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(a.trackIndex);break;case l.interrupt:for(null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a),i=0;i<e.length;i++)e[i].interrupt&&e[i].interrupt(a);break;case l.end:for(null!=a.listener&&a.listener.end&&a.listener.end(a),i=0;i<e.length;i++)e[i].end&&e[i].end(a);a.onEnd&&this.deprecateStuff()&&a.onEnd(a.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(a.trackIndex);case l.dispose:for(null!=a.listener&&a.listener.dispose&&a.listener.dispose(a),i=0;i<e.length;i++)e[i].dispose&&e[i].dispose(a);this.animState.trackEntryPool.free(a);break;case l.complete:for(null!=a.listener&&a.listener.complete&&a.listener.complete(a),i=0;i<e.length;i++)e[i].complete&&e[i].complete(a);var o=b.MathUtils.toInt(a.loopsCount());a.onComplete&&this.deprecateStuff()&&a.onComplete(a.trackIndex,o),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(a.trackIndex,o);break;case l.event:var s=t[2+r++];for(null!=a.listener&&a.listener.event&&a.listener.event(a,s),i=0;i<e.length;i++)e[i].event&&e[i].event(a,s);a.onEvent&&this.deprecateStuff()&&a.onEvent(a.trackIndex,s),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(a.trackIndex,s)}}this.clear(),this.drainDisabled=!1}},i.prototype.clear=function(){this.objects.length=0},i.deprecatedWarning1=!1,i);function i(t){this.objects=[],this.drainDisabled=!1,this.animState=t}b.EventQueue=a,(n=l=b.EventType||(b.EventType={}))[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event";var o=(s.prototype.start=function(t){},s.prototype.interrupt=function(t){},s.prototype.end=function(t){},s.prototype.dispose=function(t){},s.prototype.complete=function(t){},s.prototype.event=function(t,e){},s);function s(){}b.AnimationStateAdapter2=o}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,r;function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}e=t.core||(t.core={}),n.prototype.setMix=function(t,e,r){var n=this.skeletonData.findAnimation(t);if(null==n)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);this.setMixWith(n,a,r)},n.prototype.setMixByName=function(t,e,r){n.deprecatedWarning1||(n.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(t,e,r)},n.prototype.setMixWith=function(t,e,r){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var n=t.name+"."+e.name;this.animationToMixTime[n]=r},n.prototype.getMix=function(t,e){var r=t.name+"."+e.name,n=this.animationToMixTime[r];return void 0===n?this.defaultMix:n},n.deprecatedWarning1=!1,r=n,e.AnimationStateData=r}(pixi_spine=pixi_spine||{}),function(t){var i,e;function r(t){this.atlas=t}i=t.core||(t.core={}),r.prototype.newRegionAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (region attachment: "+e+")");var a=new i.RegionAttachment(e);return a.region=n,a},r.prototype.newMeshAttachment=function(t,e,r){var n=this.atlas.findRegion(r);if(null==n)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+e+")");var a=new i.MeshAttachment(e);return a.region=n,a},r.prototype.newBoundingBoxAttachment=function(t,e){return new i.BoundingBoxAttachment(e)},r.prototype.newPathAttachment=function(t,e){return new i.PathAttachment(e)},r.prototype.newPointAttachment=function(t,e){return new i.PointAttachment(e)},r.prototype.newClippingAttachment=function(t,e){return new i.ClippingAttachment(e)},e=r,i.AtlasAttachmentLoader=e}(pixi_spine=pixi_spine||{}),function(t){var e,r;e=t.core||(t.core={}),(r=e.BlendMode||(e.BlendMode={}))[r.Normal=0]="Normal",r[r.Additive=1]="Additive",r[r.Multiply=2]="Multiply",r[r.Screen=3]="Screen"}(pixi_spine=pixi_spine||{}),function(t){var k,e;function _(t,e,r){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=r,this.setToSetupPose()}k=t.core||(t.core={}),Object.defineProperty(_.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),_.prototype.isActive=function(){return this.active},_.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},_.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},_.prototype.updateWorldTransformWith=function(t,e,r,n,a,i,o){this.ax=t,this.ay=e,this.arotation=r,this.ascaleX=n,this.ascaleY=a,this.ashearX=i,this.ashearY=o,this.appliedValid=!0;var s=this.parent,l=this.matrix,h=this.skeleton.scaleX,c=_.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var u=this.skeleton,p=r+90+o;return l.a=k.MathUtils.cosDeg(r+i)*n*h,l.c=k.MathUtils.cosDeg(p)*a*h,l.b=k.MathUtils.sinDeg(r+i)*n*c,l.d=k.MathUtils.sinDeg(p)*a*c,l.tx=t*h+u.x,void(l.ty=e*c+u.y)}var d=s.matrix.a,f=s.matrix.c,m=s.matrix.b,g=s.matrix.d;switch(l.tx=d*t+f*e+s.matrix.tx,l.ty=m*t+g*e+s.matrix.ty,this.data.transformMode){case k.TransformMode.Normal:p=r+90+o;var v=k.MathUtils.cosDeg(r+i)*n,y=k.MathUtils.cosDeg(p)*a,x=k.MathUtils.sinDeg(r+i)*n,M=k.MathUtils.sinDeg(p)*a;return l.a=d*v+f*x,l.c=d*y+f*M,l.b=m*v+g*x,void(l.d=m*y+g*M);case k.TransformMode.OnlyTranslation:p=r+90+o,l.a=k.MathUtils.cosDeg(r+i)*n,l.c=k.MathUtils.cosDeg(p)*a,l.b=k.MathUtils.sinDeg(r+i)*n,l.d=k.MathUtils.sinDeg(p)*a;break;case k.TransformMode.NoRotationOrReflection:var w=0,E=r+i-(w=1e-4<(b=d*d+m*m)?(f=m*(b=Math.abs(d*g-f*m)/b),g=d*b,Math.atan2(m,d)*k.MathUtils.radDeg):(m=d=0,90-Math.atan2(g,f)*k.MathUtils.radDeg)),T=r+o-w+90;v=k.MathUtils.cosDeg(E)*n,y=k.MathUtils.cosDeg(T)*a,x=k.MathUtils.sinDeg(E)*n,M=k.MathUtils.sinDeg(T)*a,l.a=d*v-f*x,l.c=d*y-f*M,l.b=m*v+g*x,l.d=m*y+g*M;break;case k.TransformMode.NoScale:case k.TransformMode.NoScaleOrReflection:var b,S=k.MathUtils.cosDeg(r),I=k.MathUtils.sinDeg(r),A=(d*S+f*I)/h,R=(m*S+g*I)/c;1e-5<(b=Math.sqrt(A*A+R*R))&&(b=1/b),A*=b,R*=b,b=Math.sqrt(A*A+R*R),this.data.transformMode==k.TransformMode.NoScale&&d*g-f*m<0!=(_.yDown?this.skeleton.scaleX<0!=0<this.skeleton.scaleY:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(b=-b);var C=Math.PI/2+Math.atan2(R,A),P=Math.cos(C)*b,V=Math.sin(C)*b;v=k.MathUtils.cosDeg(i)*n,y=k.MathUtils.cosDeg(90+o)*a,x=k.MathUtils.sinDeg(i)*n,M=k.MathUtils.sinDeg(90+o)*a,l.a=A*v+P*x,l.c=A*y+P*M,l.b=R*v+V*x,l.d=R*y+V*M}l.a*=h,l.c*=h,l.b*=c,l.d*=c},_.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},_.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*k.MathUtils.radDeg},_.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*k.MathUtils.radDeg},_.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},_.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},_.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*k.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*k.MathUtils.radDeg);var r=t.matrix,n=1/(r.a*r.d-r.b*r.c),a=e.tx-r.tx,i=e.ty-r.ty;this.ax=a*r.d*n-i*r.c*n,this.ay=i*r.a*n-a*r.b*n;var o=n*r.d,s=n*r.a,l=n*r.c,h=n*r.b,c=o*e.a-l*e.b,u=o*e.c-l*e.d,p=s*e.b-h*e.a,d=s*e.d-h*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),1e-4<this.ascaleX){var f=c*d-u*p;this.ascaleY=f/this.ascaleX,this.ashearY=Math.atan2(c*u+p*d,f)*k.MathUtils.radDeg,this.arotation=Math.atan2(p,c)*k.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(u*u+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,u)*k.MathUtils.radDeg},_.prototype.worldToLocal=function(t){var e=this.matrix,r=e.a,n=e.c,a=e.b,i=e.d,o=1/(r*i-n*a),s=t.x-e.tx,l=t.y-e.ty;return t.x=s*i*o-l*n*o,t.y=l*r*o-s*a*o,t},_.prototype.localToWorld=function(t){var e=this.matrix,r=t.x,n=t.y;return t.x=r*e.a+n*e.c+e.tx,t.y=r*e.b+n*e.d+e.ty,t},_.prototype.worldToLocalRotation=function(t){var e=k.MathUtils.sinDeg(t),r=k.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(n.a*e-n.b*r,n.d*r-n.c*e)*k.MathUtils.radDeg},_.prototype.localToWorldRotation=function(t){var e=k.MathUtils.sinDeg(t),r=k.MathUtils.cosDeg(t),n=this.matrix;return Math.atan2(r*n.b+e*n.d,r*n.a+e*n.c)*k.MathUtils.radDeg},_.prototype.rotateWorld=function(t){var e=this.matrix,r=e.a,n=e.c,a=e.b,i=e.d,o=k.MathUtils.cosDeg(t),s=k.MathUtils.sinDeg(t);e.a=o*r-s*a,e.c=o*n-s*i,e.b=s*r+o*a,e.d=s*n+o*i,this.appliedValid=!1},_.yDown=!1,e=_,k.Bone=e}(pixi_spine=pixi_spine||{}),function(t){var n,a,e;function r(t,e,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,this.skinRequired=!1,this.color=new n.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=r}(n=t.core||(t.core={})).BoneData=r,(e=a=n.TransformMode||(n.TransformMode={}))[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(pixi_spine=pixi_spine||{}),function(t){function e(t,e,r){this.name=t,this.order=e,this.skinRequired=r}(t.core||(t.core={})).ConstraintData=e}(pixi_spine=pixi_spine||{}),function(t){function e(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}(t.core||(t.core={})).Event=e}(pixi_spine=pixi_spine||{}),function(t){function e(t){this.name=t}(t.core||(t.core={})).EventData=e}(pixi_spine=pixi_spine||{}),function(t){var ht,e;function r(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}ht=t.core||(t.core={}),r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},r.prototype.apply1=function(t,e,r,n,a,i,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,l=1/(s.a*s.d-s.b*s.c),h=e-s.tx,c=r-s.ty,u=(h*s.d-c*s.c)*l-t.ax,p=(c*s.a-h*s.b)*l-t.ay,d=Math.atan2(p,u)*ht.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(d+=180),180<d?d-=360:d<-180&&(d+=360);var f=t.ascaleX,m=t.ascaleY;if(n||a){var g=t.data.length*f,v=Math.sqrt(u*u+p*p);if(n&&v<g||a&&g<v&&1e-4<g){var y=(v/g-1)*o+1;f*=y,i&&(m*=y)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*o,f,m,t.ashearX,t.ashearY)},r.prototype.apply2=function(t,e,r,n,a,i,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var l=t.ax,h=t.ay,c=t.ascaleX,u=c,p=t.ascaleY,d=e.ascaleX,f=t.matrix,m=0,g=0,v=0;v=c<0?(c=-c,m=180,-1):(m=0,1),p<0&&(p=-p,v=-v),g=d<0?(d=-d,180):0;var y=e.ax,x=0,M=0,w=0,E=f.a,T=f.c,b=f.b,S=f.d,I=Math.abs(c-p)<=1e-4;w=I?(M=E*y+T*(x=e.ay)+f.tx,b*y+S*x+f.ty):(x=0,M=E*y+f.tx,b*y+f.ty);var A=t.parent.matrix;E=A.a,T=A.c,b=A.b;var R,C,P=1/(E*(S=A.d)-T*b),V=M-A.tx,k=w-A.ty,_=(V*S-k*T)*P-l,N=(k*E-V*b)*P-h,F=Math.sqrt(_*_+N*N),O=e.data.length*d;if(F<1e-4)return this.apply1(t,r,n,!1,i,!1,s),void e.updateWorldTransformWith(y,x,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var D=((V=r-A.tx)*S-(k=n-A.ty)*T)*P-l,U=(k*E-V*b)*P-h,X=D*D+U*U;if(0!=o){o*=c*(d+1)/2;var B=Math.sqrt(X),L=B-F-O*c+o;if(0<L){var Y=Math.min(1,L/(2*o))-1;X=(D-=(Y=(L-o*(1-Y*Y))/B)*D)*D+(U-=Y*U)*U}}t:if(I){var W=(X-F*F-(O*=c)*O)/(2*F*O);W<-1?W=-1:1<W&&(W=1,i&&(u*=(Math.sqrt(X)/(F+O)-1)*s+1)),C=Math.acos(W)*a,E=F+O*W,T=O*Math.sin(C),R=Math.atan2(U*E-D*T,D*E+U*T)}else{var q=(E=c*O)*E,H=(T=p*O)*T,j=Math.atan2(U,D),G=-2*H*F,z=H-q;if(0<=(S=G*G-4*z*(b=H*F*F+q*X-q*H))){var Z=Math.sqrt(S);G<0&&(Z=-Z);var J=(Z=-(G+Z)/2)/z,Q=b/Z,K=Math.abs(J)<Math.abs(Q)?J:Q;if(K*K<=X){k=Math.sqrt(X-K*K)*a,R=j-Math.atan2(k,K),C=Math.atan2(k/p,(K-F)/c);break t}}var $=ht.MathUtils.PI,tt=F-E,et=tt*tt,rt=0,nt=0,at=F+E,it=at*at,ot=0;-1<=(b=-E*F/(q-H))&&b<=1&&(b=Math.acos(b),(S=(V=E*Math.cos(b)+F)*V+(k=T*Math.sin(b))*k)<et&&($=b,et=S,tt=V,rt=k),it<S&&(nt=b,it=S,at=V,ot=k)),C=X<=(et+it)/2?(R=j-Math.atan2(rt*a,tt),$*a):(R=j-Math.atan2(ot*a,at),nt*a)}var st=Math.atan2(x,y)*v,lt=t.arotation;180<(R=(R-st)*ht.MathUtils.radDeg+m-lt)?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(l,h,lt+R*s,u,t.ascaleY,0,0),lt=e.arotation,180<(C=((C+st)*ht.MathUtils.radDeg-e.ashearX)*v+g-lt)?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(y,x,lt+C*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},e=r,ht.IkConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,r,n;function a(t){var e=r.call(this,t,0,!1)||this;return e.bones=new Array,e.bendDirection=1,e.compress=!1,e.stretch=!1,e.uniform=!1,e.mix=1,e.softness=0,e}e=t.core||(t.core={}),r=e.ConstraintData,__extends(a,r),n=a,e.IkConstraintData=n}(pixi_spine=pixi_spine||{}),function(t){var z,e;function Z(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var r=0,n=t.bones.length;r<n;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}z=t.core||(t.core={}),Z.prototype.isActive=function(){return this.active},Z.prototype.apply=function(){this.update()},Z.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof z.PathAttachment){var e=this.rotateMix,r=this.translateMix,n=0<e;if(0<r||n){var a=this.data,i=a.spacingMode,o=i==z.SpacingMode.Length,s=a.rotateMode,l=s==z.RotateMode.Tangent,h=s==z.RotateMode.ChainScale,c=this.bones.length,u=l?c:c+1,p=this.bones,d=z.Utils.setArraySize(this.spaces,u),f=null,m=this.spacing;if(h||o){h&&(f=z.Utils.setArraySize(this.lengths,c));for(var g=0,v=u-1;g<v;){var y=(R=p[g]).data.length;if(y<Z.epsilon)h&&(f[g]=0),d[++g]=0;else{var x=y*R.matrix.a,M=y*R.matrix.b,w=Math.sqrt(x*x+M*M);h&&(f[g]=w),d[++g]=(o?y+m:m)*w/y}}}else for(g=1;g<u;g++)d[g]=m;var E=this.computeWorldPositions(t,u,l,a.positionMode==z.PositionMode.Percent,i==z.SpacingMode.Percent),T=E[0],b=E[1],S=a.offsetRotation,I=!1;0==S?I=s==z.RotateMode.Chain:(I=!1,S*=0<(A=this.target.bone.matrix).a*A.d-A.b*A.c?z.MathUtils.degRad:-z.MathUtils.degRad),g=0;for(var A=3;g<c;g++,A+=3){var R,C=(R=p[g]).matrix;C.tx+=(T-C.tx)*r,C.ty+=(b-C.ty)*r;var P=(x=E[A])-T,V=(M=E[A+1])-b;if(h){var k=f[g];if(0!=k){var _=(Math.sqrt(P*P+V*V)/k-1)*e+1;C.a*=_,C.b*=_}}if(T=x,b=M,n){var N=C.a,F=C.c,O=C.b,D=C.d,U=0,X=0,B=0;if(U=l?E[A-1]:0==d[g+1]?E[A+2]:Math.atan2(V,P),U-=Math.atan2(O,N),I){X=Math.cos(U),B=Math.sin(U);var L=R.data.length;T+=(L*(X*N-B*O)-P)*e,b+=(L*(B*N+X*O)-V)*e}else U+=S;U>z.MathUtils.PI?U-=z.MathUtils.PI2:U<-z.MathUtils.PI&&(U+=z.MathUtils.PI2),U*=e,X=Math.cos(U),B=Math.sin(U),C.a=X*N-B*O,C.c=X*F-B*D,C.b=B*N+X*O,C.d=B*F+X*D}R.appliedValid=!1}}}},Z.prototype.computeWorldPositions=function(t,e,r,n,a){var i=this.target,o=this.position,s=this.spaces,l=z.Utils.setArraySize(this.positions,3*e+2),h=null,c=t.closed,u=t.worldVerticesLength,p=u/6,d=Z.NONE;if(!t.constantSpeed){var f=t.lengths,m=f[p-=c?1:2];if(n&&(o*=m),a)for(var g=0;g<e;g++)s[g]*=m;h=z.Utils.setArraySize(this.world,8);for(var v=g=0,y=0;g<e;g++,v+=3){var x=o+=W=s[g];if(c)(x%=m)<0&&(x+=m),y=0;else{if(x<0){d!=Z.BEFORE&&(d=Z.BEFORE,t.computeWorldVertices(i,2,4,h,0,2)),this.addBeforePosition(x,h,0,l,v);continue}if(m<x){d!=Z.AFTER&&(d=Z.AFTER,t.computeWorldVertices(i,u-6,4,h,0,2)),this.addAfterPosition(x-m,h,0,l,v);continue}}for(;;y++){var M=f[y];if(!(M<x)){0==y?x/=M:x=(x-(G=f[y-1]))/(M-G);break}}y!=d&&(d=y,c&&y==p?(t.computeWorldVertices(i,u-4,4,h,0,2),t.computeWorldVertices(i,0,4,h,4,2)):t.computeWorldVertices(i,6*y+2,8,h,0,2)),this.addCurvePosition(x,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,v,r||0<g&&0==W)}return l}c?(u+=2,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u-4,h,0,2),t.computeWorldVertices(i,0,2,h,u-4,2),h[u-2]=h[0],h[u-1]=h[1]):(p--,u-=4,h=z.Utils.setArraySize(this.world,u),t.computeWorldVertices(i,2,u,h,0,2));for(var w=z.Utils.setArraySize(this.curves,p),E=0,T=h[0],b=h[1],S=0,I=0,A=0,R=0,C=0,P=0,V=0,k=0,_=0,N=0,F=0,O=0,D=0,U=0,X=(g=0,2);g<p;g++,X+=6)S=h[X],I=h[X+1],A=h[X+2],R=h[X+3],F=2*(V=.1875*(T-2*S+A))+(_=.09375*(3*(S-A)-T+(C=h[X+4]))),O=2*(k=.1875*(b-2*I+R))+(N=.09375*(3*(I-R)-b+(P=h[X+5]))),D=.75*(S-T)+V+.16666667*_,U=.75*(I-b)+k+.16666667*N,E+=Math.sqrt(D*D+U*U),D+=F,U+=O,F+=_,O+=N,E+=Math.sqrt(D*D+U*U),D+=F,U+=O,E+=Math.sqrt(D*D+U*U),D+=F+_,U+=O+N,E+=Math.sqrt(D*D+U*U),w[g]=E,T=C,b=P;if(n&&(o*=E),a)for(g=0;g<e;g++)s[g]*=E;for(var B=this.segments,L=0,Y=y=v=g=0;g<e;g++,v+=3){var W;if(x=o+=W=s[g],c)(x%=E)<0&&(x+=E),y=0;else{if(x<0){this.addBeforePosition(x,h,0,l,v);continue}if(E<x){this.addAfterPosition(x-E,h,u-4,l,v);continue}}for(;;y++){var q=w[y];if(!(q<x)){0==y?x/=q:x=(x-(G=w[y-1]))/(q-G);break}}if(y!=d){var H=6*(d=y);for(T=h[H],b=h[H+1],S=h[H+2],I=h[H+3],A=h[H+4],R=h[H+5],F=2*(V=.03*(T-2*S+A))+(_=.006*(3*(S-A)-T+(C=h[H+6]))),O=2*(k=.03*(b-2*I+R))+(N=.006*(3*(I-R)-b+(P=h[H+7]))),D=.3*(S-T)+V+.16666667*_,U=.3*(I-b)+k+.16666667*N,L=Math.sqrt(D*D+U*U),B[0]=L,H=1;H<8;H++)D+=F,U+=O,F+=_,O+=N,L+=Math.sqrt(D*D+U*U),B[H]=L;D+=F,U+=O,L+=Math.sqrt(D*D+U*U),B[8]=L,D+=F+_,U+=O+N,L+=Math.sqrt(D*D+U*U),B[9]=L,Y=0}for(x*=L;;Y++){var j=B[Y];if(!(j<x)){var G;0==Y?x/=j:x=Y+(x-(G=B[Y-1]))/(j-G);break}}this.addCurvePosition(.1*x,T,b,S,I,A,R,C,P,l,v,r||0<g&&0==W)}return l},Z.prototype.addBeforePosition=function(t,e,r,n,a){var i=e[r],o=e[r+1],s=e[r+2]-i,l=e[r+3]-o,h=Math.atan2(l,s);n[a]=i+t*Math.cos(h),n[a+1]=o+t*Math.sin(h),n[a+2]=h},Z.prototype.addAfterPosition=function(t,e,r,n,a){var i=e[r+2],o=e[r+3],s=i-e[r],l=o-e[r+1],h=Math.atan2(l,s);n[a]=i+t*Math.cos(h),n[a+1]=o+t*Math.sin(h),n[a+2]=h},Z.prototype.addCurvePosition=function(t,e,r,n,a,i,o,s,l,h,c,u){0!=t&&!isNaN(t)||(t=1e-4);var p=t*t,d=p*t,f=1-t,m=f*f,g=m*f,v=f*t,y=3*v,x=f*y,M=y*t,w=e*g+n*x+i*M+s*d,E=r*g+a*x+o*M+l*d;h[c]=w,h[c+1]=E,u&&(h[c+2]=Math.atan2(E-(r*m+a*v*2+o*p),w-(e*m+n*v*2+i*p)))},Z.NONE=-1,Z.BEFORE=-2,Z.AFTER=-3,Z.epsilon=1e-5,e=Z,z.PathConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,r,n,a,i,o;function s(t){var e=r.call(this,t,0,!1)||this;return e.bones=new Array,e}e=t.core||(t.core={}),r=e.ConstraintData,__extends(s,r),o=s,e.PathConstraintData=o,(n=e.PositionMode||(e.PositionMode={}))[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent",(a=e.SpacingMode||(e.SpacingMode={}))[a.Length=0]="Length",a[a.Fixed=1]="Fixed",a[a.Percent=2]="Percent",(i=e.RotateMode||(e.RotateMode={}))[i.Tangent=0]="Tangent",i[i.Chain=1]="Chain",i[i.ChainScale=2]="ChainScale"}(pixi_spine=pixi_spine||{}),function(t){var x,e;function r(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=void 0;if(null==r.parent)n=new x.Bone(r,this,null);else{var a=this.bones[r.parent.index];n=new x.Bone(r,this,a),a.children.push(n)}this.bones.push(n)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var i=t.slots[e],o=(n=this.bones[i.boneData.index],new x.Slot(i,n));this.slots.push(o),this.drawOrder.push(o)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var s=t.ikConstraints[e];this.ikConstraints.push(new x.IkConstraint(s,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var l=t.transformConstraints[e];this.transformConstraints.push(new x.TransformConstraint(l,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var h=t.pathConstraints[e];this.pathConstraints.push(new x.PathConstraint(h,this))}this.color=new x.Color(1,1,1,1),this.updateCache()}x=t.core||(t.core={}),r.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,r=t.length;e<r;e++)(a=t[e]).sorted=a.data.skinRequired,a.active=!a.sorted;if(null!=this.skin){var n=this.skin.bones;for(e=0,r=this.skin.bones.length;e<r;e++)for(var a=this.bones[n[e].index];a.sorted=!1,a.active=!0,null!=(a=a.parent););}var i=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,l=i.length,h=o.length,c=s.length,u=l+h+c;t:for(e=0;e<u;e++){for(var p=0;p<l;p++)if((d=i[p]).data.order==e){this.sortIkConstraint(d);continue t}for(p=0;p<h;p++)if((d=o[p]).data.order==e){this.sortTransformConstraint(d);continue t}for(p=0;p<c;p++){var d;if((d=s[p]).data.order==e){this.sortPathConstraint(d);continue t}}}for(e=0,r=t.length;e<r;e++)this.sortBone(t[e])},r.prototype.sortIkConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var r=t.bones,n=r[0];if(this.sortBone(n),1<r.length){var a=r[r.length-1];-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}this._updateCache.push(t),this.sortReset(n.children),r[r.length-1].sorted=!0}},r.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,r=e.data.index,n=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,n),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,n);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],r,n);var o=e.getAttachment();o instanceof x.PathAttachment&&this.sortPathConstraintAttachmentWith(o,n);var s=t.bones,l=s.length;for(a=0;a<l;a++)this.sortBone(s[a]);for(this._updateCache.push(t),a=0;a<l;a++)this.sortReset(s[a].children);for(a=0;a<l;a++)s[a].sorted=!0}},r.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&x.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,r=e.length;if(t.data.local)for(var n=0;n<r;n++){var a=e[n];this.sortBone(a.parent),-1<this._updateCache.indexOf(a)||this.updateCacheReset.push(a)}else for(n=0;n<r;n++)this.sortBone(e[n]);this._updateCache.push(t);for(var i=0;i<r;i++)this.sortReset(e[i].children);for(i=0;i<r;i++)e[i].sorted=!0}},r.prototype.sortPathConstraintAttachment=function(t,e,r){var n=t.attachments[e];if(n)for(var a in n)this.sortPathConstraintAttachmentWith(n[a],r)},r.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof x.PathAttachment){var r=t.bones;if(null==r)this.sortBone(e);else for(var n=this.bones,a=0;a<r.length;)for(var i=r[a++],o=a+i;a<o;a++){var s=r[a];this.sortBone(n[s])}}},r.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},r.prototype.sortReset=function(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];n.active&&(n.sorted&&this.sortReset(n.children),n.sorted=!1)}},r.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,r=t.length;e<r;e++){var n=t[e];n.ax=n.x,n.ay=n.y,n.arotation=n.rotation,n.ascaleX=n.scaleX,n.ascaleY=n.scaleY,n.ashearX=n.shearX,n.ashearY=n.shearY,n.appliedValid=!0}var a=this._updateCache;for(e=0,r=a.length;e<r;e++)a[e].update()},r.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},r.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,r=t.length;e<r;e++)t[e].setToSetupPose();var n=this.ikConstraints;for(e=0,r=n.length;e<r;e++)(s=n[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch;var a=this.transformConstraints;for(e=0,r=a.length;e<r;e++){var i=(s=a[e]).data;s.rotateMix=i.rotateMix,s.translateMix=i.translateMix,s.scaleMix=i.scaleMix,s.shearMix=i.shearMix}var o=this.pathConstraints;for(e=0,r=o.length;e<r;e++){var s;i=(s=o[e]).data,s.position=i.position,s.spacing=i.spacing,s.rotateMix=i.rotateMix,s.translateMix=i.translateMix}},r.prototype.setSlotsToSetupPose=function(){var t=this.slots;x.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,r=t.length;e<r;e++)t[e].setToSetupPose()},r.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},r.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},r.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},r.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},r.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].data.name==t)return r;return-1},r.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},r.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,r=0,n=e.length;r<n;r++){var a=e[r],i=a.data.attachmentName;if(null!=i){var o=t.getAttachment(r,i);null!=o&&a.setAttachment(o)}}this.skin=t,this.updateCache()}},r.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},r.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var r=this.skin.getAttachment(t,e);if(null!=r)return r}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},r.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var r=this.slots,n=0,a=r.length;n<a;n++){var i=r[n];if(i.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(n,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},r.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},r.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},r.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.data.name==t)return a}return null},r.prototype.getBounds=function(t,e,r){if(void 0===r&&(r=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,a=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l=0,h=n.length;l<h;l++){var c=n[l];if(c.bone.active){var u=0,p=null,d=c.getAttachment();if(d instanceof x.RegionAttachment)u=8,p=x.Utils.setArraySize(r,u,0),d.computeWorldVertices(c.bone,p,0,2);else if(d instanceof x.MeshAttachment){var f=d;u=f.worldVerticesLength,p=x.Utils.setArraySize(r,u,0),f.computeWorldVertices(c,0,u,p,0,2)}if(null!=p)for(var m=0,g=p.length;m<g;m+=2){var v=p[m],y=p[m+1];a=Math.min(a,v),i=Math.min(i,y),o=Math.max(o,v),s=Math.max(s,y)}}}t.set(a,i),e.set(o-a,s-i)},r.prototype.update=function(t){this.time+=t},Object.defineProperty(r.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=t?1:-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){r.deprecatedWarning1||(r.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=t?1:-1},enumerable:!0,configurable:!0}),r.deprecatedWarning1=!1,e=r,x.Skeleton=e}(pixi_spine=pixi_spine||{}),function(t){!function(q){var t=(H.prototype.readSkeletonData=function(t){var e=this.scale,r=new q.SkeletonData;r.name="";var n=new x(t);r.hash=n.readString(),r.version=n.readString(),r.x=n.readFloat(),r.y=n.readFloat(),r.width=n.readFloat(),r.height=n.readFloat();var a=n.readBoolean();a&&(r.fps=n.readFloat(),r.imagesPath=n.readString(),r.audioPath=n.readString());var i=0;i=n.readInt(!0);for(var o=0;o<i;o++)n.strings.push(n.readString());for(i=n.readInt(!0),o=0;o<i;o++){var s=n.readString(),l=0==o?null:r.bones[n.readInt(!0)];(u=new q.BoneData(o,s,l)).rotation=n.readFloat(),u.x=n.readFloat()*e,u.y=n.readFloat()*e,u.scaleX=n.readFloat(),u.scaleY=n.readFloat(),u.shearX=n.readFloat(),u.shearY=n.readFloat(),u.length=n.readFloat()*e,u.transformMode=H.TransformModeValues[n.readInt(!0)],u.skinRequired=n.readBoolean(),a&&q.Color.rgba8888ToColor(u.color,n.readInt32()),r.bones.push(u)}for(i=n.readInt(!0),o=0;o<i;o++){var h=n.readString(),c=r.bones[n.readInt(!0)],u=new q.SlotData(o,h,c);q.Color.rgba8888ToColor(u.color,n.readInt32());var p=n.readInt32();-1!=p&&q.Color.rgb888ToColor(u.darkColor=new q.Color,p),u.attachmentName=n.readStringRef(),u.blendMode=H.BlendModeValues[n.readInt(!0)],r.slots.push(u)}i=n.readInt(!0);for(var d=void(o=0);o<i;o++){(u=new q.IkConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),d=n.readInt(!0);for(var f=0;f<d;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.bones[n.readInt(!0)],u.mix=n.readFloat(),u.softness=n.readFloat()*e,u.bendDirection=n.readByte(),u.compress=n.readBoolean(),u.stretch=n.readBoolean(),u.uniform=n.readBoolean(),r.ikConstraints.push(u)}for(i=n.readInt(!0),d=void(o=0);o<i;o++){for((u=new q.TransformConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),d=n.readInt(!0),f=0;f<d;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.bones[n.readInt(!0)],u.local=n.readBoolean(),u.relative=n.readBoolean(),u.offsetRotation=n.readFloat(),u.offsetX=n.readFloat()*e,u.offsetY=n.readFloat()*e,u.offsetScaleX=n.readFloat(),u.offsetScaleY=n.readFloat(),u.offsetShearY=n.readFloat(),u.rotateMix=n.readFloat(),u.translateMix=n.readFloat(),u.scaleMix=n.readFloat(),u.shearMix=n.readFloat(),r.transformConstraints.push(u)}for(i=n.readInt(!0),d=void(o=0);o<i;o++){for((u=new q.PathConstraintData(n.readString())).order=n.readInt(!0),u.skinRequired=n.readBoolean(),d=n.readInt(!0),f=0;f<d;f++)u.bones.push(r.bones[n.readInt(!0)]);u.target=r.slots[n.readInt(!0)],u.positionMode=H.PositionModeValues[n.readInt(!0)],u.spacingMode=H.SpacingModeValues[n.readInt(!0)],u.rotateMode=H.RotateModeValues[n.readInt(!0)],u.offsetRotation=n.readFloat(),u.position=n.readFloat(),u.positionMode==q.PositionMode.Fixed&&(u.position*=e),u.spacing=n.readFloat(),u.spacingMode!=q.SpacingMode.Length&&u.spacingMode!=q.SpacingMode.Fixed||(u.spacing*=e),u.rotateMix=n.readFloat(),u.translateMix=n.readFloat(),r.pathConstraints.push(u)}var m=this.readSkin(n,r,!0,a);for(null!=m&&(r.defaultSkin=m,r.skins.push(m)),o=r.skins.length,q.Utils.setArraySize(r.skins,i=o+n.readInt(!0));o<i;o++)r.skins[o]=this.readSkin(n,r,!1,a);for(i=this.linkedMeshes.length,o=0;o<i;o++){var g=this.linkedMeshes[o],v=null==g.skin?r.defaultSkin:r.findSkin(g.skin);if(null==v)throw new Error("Skin not found: "+g.skin);var y=v.getAttachment(g.slotIndex,g.parent);if(null==y)throw new Error("Parent mesh not found: "+g.parent);g.mesh.deformAttachment=g.inheritDeform?y:g.mesh,g.mesh.setParentMesh(y)}for(this.linkedMeshes.length=0,i=n.readInt(!0),o=0;o<i;o++)(u=new q.EventData(n.readStringRef())).intValue=n.readInt(!1),u.floatValue=n.readFloat(),u.stringValue=n.readString(),u.audioPath=n.readString(),null!=u.audioPath&&(u.volume=n.readFloat(),u.balance=n.readFloat()),r.events.push(u);for(i=n.readInt(!0),o=0;o<i;o++)r.animations.push(this.readAnimation(n,n.readString(),r));return r},H.prototype.readSkin=function(t,e,r,n){var a=new q.Skin(r?"default":t.readStringRef());if(!r){a.bones.length=t.readInt(!0);for(var i=0,o=a.bones.length;i<o;i++)a.bones[i]=e.bones[t.readInt(!0)];for(i=0,o=t.readInt(!0);i<o;i++)a.constraints.push(e.ikConstraints[t.readInt(!0)]);for(i=0,o=t.readInt(!0);i<o;i++)a.constraints.push(e.transformConstraints[t.readInt(!0)]);for(i=0,o=t.readInt(!0);i<o;i++)a.constraints.push(e.pathConstraints[t.readInt(!0)])}for(i=0,o=t.readInt(!0);i<o;i++)for(var s=t.readInt(!0),l=0,h=t.readInt(!0);l<h;l++){var c=t.readStringRef(),u=this.readAttachment(t,e,a,s,c,n);null!=u&&a.setAttachment(s,c,u)}return a},H.prototype.readAttachment=function(t,e,r,n,a,i){var o=this.scale,s=t.readStringRef();null==s&&(s=a);var l=t.readByte();switch(H.AttachmentTypeValues[l]){case q.AttachmentType.Region:var h=t.readStringRef(),c=t.readFloat(),u=t.readFloat(),p=t.readFloat(),d=t.readFloat(),f=t.readFloat(),m=t.readFloat(),g=t.readFloat(),v=t.readInt32();null==h&&(h=s);var y=this.attachmentLoader.newRegionAttachment(r,s,h);return null==y?null:(y.path=h,y.x=u*o,y.y=p*o,y.scaleX=d,y.scaleY=f,y.rotation=c,y.width=m*o,y.height=g*o,q.Color.rgba8888ToColor(y.color,v),y.updateOffset(),y);case q.AttachmentType.BoundingBox:var x=t.readInt(!0),M=this.readVertices(t,x),w=(v=i?t.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(r,s));return null==w?null:(w.worldVerticesLength=x<<1,w.vertices=M.vertices,w.bones=M.bones,i&&q.Color.rgba8888ToColor(w.color,v),w);case q.AttachmentType.Mesh:h=t.readStringRef(),v=t.readInt32(),x=t.readInt(!0);var E=this.readFloatArray(t,x<<1,1),T=this.readShortArray(t),b=(M=this.readVertices(t,x),t.readInt(!0)),S=null;return g=m=0,i&&(S=this.readShortArray(t),m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(r,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),I.bones=M.bones,I.vertices=M.vertices,I.worldVerticesLength=x<<1,I.triangles=T,I.regionUVs=new Float32Array(E),I.hullLength=b<<1,i&&(I.edges=S,I.width=m*o,I.height=g*o),I);case q.AttachmentType.LinkedMesh:h=t.readStringRef(),v=t.readInt32();var I,A=t.readStringRef(),R=t.readStringRef(),C=t.readBoolean();return g=m=0,i&&(m=t.readFloat(),g=t.readFloat()),null==h&&(h=s),null==(I=this.attachmentLoader.newMeshAttachment(r,s,h))?null:(I.path=h,q.Color.rgba8888ToColor(I.color,v),i&&(I.width=m*o,I.height=g*o),this.linkedMeshes.push(new U(I,A,n,R,C)),I);case q.AttachmentType.Path:for(var P=t.readBoolean(),V=t.readBoolean(),k=(x=t.readInt(!0),M=this.readVertices(t,x),q.Utils.newArray(x/3,0)),_=0,N=k.length;_<N;_++)k[_]=t.readFloat()*o;return v=i?t.readInt32():0,null==(h=this.attachmentLoader.newPathAttachment(r,s))?null:(h.closed=P,h.constantSpeed=V,h.worldVerticesLength=x<<1,h.vertices=M.vertices,h.bones=M.bones,h.lengths=k,i&&q.Color.rgba8888ToColor(h.color,v),h);case q.AttachmentType.Point:c=t.readFloat(),u=t.readFloat(),p=t.readFloat(),v=i?t.readInt32():0;var F=this.attachmentLoader.newPointAttachment(r,s);return null==F?null:(F.x=u*o,F.y=p*o,F.rotation=c,i&&q.Color.rgba8888ToColor(F.color,v),F);case q.AttachmentType.Clipping:var O=t.readInt(!0),D=(x=t.readInt(!0),M=this.readVertices(t,x),v=i?t.readInt32():0,this.attachmentLoader.newClippingAttachment(r,s));return null==D?null:(D.endSlot=e.slots[O],D.worldVerticesLength=x<<1,D.vertices=M.vertices,D.bones=M.bones,i&&q.Color.rgba8888ToColor(D.color,v),D)}return null},H.prototype.readVertices=function(t,e){var r=e<<1,n=new c,a=this.scale;if(!t.readBoolean())return n.vertices=this.readFloatArray(t,r,a),n;for(var i=new Array,o=new Array,s=0;s<e;s++){var l=t.readInt(!0);o.push(l);for(var h=0;h<l;h++)o.push(t.readInt(!0)),i.push(t.readFloat()*a),i.push(t.readFloat()*a),i.push(t.readFloat())}return n.vertices=q.Utils.toFloatArray(i),n.bones=o,n},H.prototype.readFloatArray=function(t,e,r){var n=new Array(e);if(1==r)for(var a=0;a<e;a++)n[a]=t.readFloat();else for(a=0;a<e;a++)n[a]=t.readFloat()*r;return n},H.prototype.readShortArray=function(t){for(var e=t.readInt(!0),r=new Array(e),n=0;n<e;n++)r[n]=t.readShort();return r},H.prototype.readAnimation=function(t,e,r){for(var n=new Array,a=this.scale,i=0,o=new q.Color,s=new q.Color,l=0,h=t.readInt(!0);l<h;l++)for(var c=t.readInt(!0),u=0,p=t.readInt(!0);u<p;u++){var d=t.readByte(),f=t.readInt(!0);switch(d){case H.SLOT_ATTACHMENT:(y=new q.AttachmentTimeline(f)).slotIndex=c;for(var m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readStringRef());n.push(y),i=Math.max(i,y.frames[f-1]);break;case H.SLOT_COLOR:for((y=new q.ColorTimeline(f)).slotIndex=c,m=0;m<f;m++){var g=t.readFloat();q.Color.rgba8888ToColor(o,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a),m<f-1&&this.readCurve(t,m,y)}n.push(y),i=Math.max(i,y.frames[(f-1)*q.ColorTimeline.ENTRIES]);break;case H.SLOT_TWO_COLOR:for((y=new q.TwoColorTimeline(f)).slotIndex=c,m=0;m<f;m++)g=t.readFloat(),q.Color.rgba8888ToColor(o,t.readInt32()),q.Color.rgb888ToColor(s,t.readInt32()),y.setFrame(m,g,o.r,o.g,o.b,o.a,s.r,s.g,s.b),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TwoColorTimeline.ENTRIES])}}for(l=0,h=t.readInt(!0);l<h;l++){var v=t.readInt(!0);for(u=0,p=t.readInt(!0);u<p;u++)switch(d=t.readByte(),f=t.readInt(!0),d){case H.BONE_ROTATE:for((y=new q.RotateTimeline(f)).boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.RotateTimeline.ENTRIES]);break;case H.BONE_TRANSLATE:case H.BONE_SCALE:case H.BONE_SHEAR:var y=void 0,x=1;for(d==H.BONE_SCALE?y=new q.ScaleTimeline(f):d==H.BONE_SHEAR?y=new q.ShearTimeline(f):(y=new q.TranslateTimeline(f),x=a),y.boneIndex=v,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x,t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TranslateTimeline.ENTRIES])}}for(l=0,h=t.readInt(!0);l<h;l++){var M=t.readInt(!0);for(f=t.readInt(!0),(y=new q.IkConstraintTimeline(f)).ikConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()*a,t.readByte(),t.readBoolean(),t.readBoolean()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.IkConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){for(M=t.readInt(!0),f=t.readInt(!0),(y=new q.TransformConstraintTimeline(f)).transformConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.TransformConstraintTimeline.ENTRIES])}for(l=0,h=t.readInt(!0);l<h;l++){M=t.readInt(!0);var w=r.pathConstraints[M];for(u=0,p=t.readInt(!0);u<p;u++)switch(d=t.readByte(),f=t.readInt(!0),d){case H.PATH_POSITION:case H.PATH_SPACING:for(y=void 0,x=1,d==H.PATH_SPACING?(y=new q.PathConstraintSpacingTimeline(f),w.spacingMode!=q.SpacingMode.Length&&w.spacingMode!=q.SpacingMode.Fixed||(x=a)):(y=new q.PathConstraintPositionTimeline(f),w.positionMode==q.PositionMode.Fixed&&(x=a)),y.pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat()*x),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintPositionTimeline.ENTRIES]);break;case H.PATH_MIX:for((y=new q.PathConstraintMixTimeline(f)).pathConstraintIndex=M,m=0;m<f;m++)y.setFrame(m,t.readFloat(),t.readFloat(),t.readFloat()),m<f-1&&this.readCurve(t,m,y);n.push(y),i=Math.max(i,y.frames[(f-1)*q.PathConstraintMixTimeline.ENTRIES])}}for(l=0,h=t.readInt(!0);l<h;l++){var E=r.skins[t.readInt(!0)];for(u=0,p=t.readInt(!0);u<p;u++){c=t.readInt(!0);for(var T=0,b=t.readInt(!0);T<b;T++){var S=E.getAttachment(c,t.readStringRef()),I=null!=S.bones,A=S.vertices,R=I?A.length/3*2:A.length;for(f=t.readInt(!0),(y=new q.DeformTimeline(f)).slotIndex=c,y.attachment=S,m=0;m<f;m++){g=t.readFloat();var C=void 0,P=t.readInt(!0);if(0==P)C=I?q.Utils.newFloatArray(R):A;else{C=q.Utils.newFloatArray(R);var V=t.readInt(!0);if(P+=V,1==a)for(var k=V;k<P;k++)C[k]=t.readFloat();else for(k=V;k<P;k++)C[k]=t.readFloat()*a;if(!I){k=0;for(var _=C.length;k<_;k++)C[k]+=A[k]}}y.setFrame(m,g,C),m<f-1&&this.readCurve(t,m,y)}n.push(y),i=Math.max(i,y.frames[f-1])}}}var N=t.readInt(!0);if(0<N){y=new q.DrawOrderTimeline(N);var F=r.slots.length;for(l=0;l<N;l++){g=t.readFloat();var O=t.readInt(!0),D=q.Utils.newArray(F,0);for(u=F-1;0<=u;u--)D[u]=-1;var U=q.Utils.newArray(F-O,0),X=0,B=0;for(u=0;u<O;u++){for(c=t.readInt(!0);X!=c;)U[B++]=X++;D[X+t.readInt(!0)]=X++}for(;X<F;)U[B++]=X++;for(u=F-1;0<=u;u--)-1==D[u]&&(D[u]=U[--B]);y.setFrame(l,g,D)}n.push(y),i=Math.max(i,y.frames[N-1])}var L=t.readInt(!0);if(0<L){for(y=new q.EventTimeline(L),l=0;l<L;l++){g=t.readFloat();var Y=r.events[t.readInt(!0)],W=new q.Event(g,Y);W.intValue=t.readInt(!1),W.floatValue=t.readFloat(),W.stringValue=t.readBoolean()?t.readString():Y.stringValue,null!=W.data.audioPath&&(W.volume=t.readFloat(),W.balance=t.readFloat()),y.setFrame(l,W)}n.push(y),i=Math.max(i,y.frames[L-1])}return new q.Animation(e,n,i)},H.prototype.readCurve=function(t,e,r){switch(t.readByte()){case H.CURVE_STEPPED:r.setStepped(e);break;case H.CURVE_BEZIER:this.setCurve(r,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},H.prototype.setCurve=function(t,e,r,n,a,i){t.setCurve(e,r,n,a,i)},H.AttachmentTypeValues=[0,1,2,3,4,5,6],H.TransformModeValues=[q.TransformMode.Normal,q.TransformMode.OnlyTranslation,q.TransformMode.NoRotationOrReflection,q.TransformMode.NoScale,q.TransformMode.NoScaleOrReflection],H.PositionModeValues=[q.PositionMode.Fixed,q.PositionMode.Percent],H.SpacingModeValues=[q.SpacingMode.Length,q.SpacingMode.Fixed,q.SpacingMode.Percent],H.RotateModeValues=[q.RotateMode.Tangent,q.RotateMode.Chain,q.RotateMode.ChainScale],H.BlendModeValues=[q.BlendMode.Normal,q.BlendMode.Additive,q.BlendMode.Multiply,q.BlendMode.Screen],H.BONE_ROTATE=0,H.BONE_TRANSLATE=1,H.BONE_SCALE=2,H.BONE_SHEAR=3,H.SLOT_ATTACHMENT=0,H.SLOT_COLOR=1,H.SLOT_TWO_COLOR=2,H.PATH_POSITION=0,H.PATH_SPACING=1,H.PATH_MIX=2,H.CURVE_LINEAR=0,H.CURVE_STEPPED=1,H.CURVE_BEZIER=2,H);function H(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}q.SkeletonBinary=t;var x=(e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),r=127&e;return 0!=(128&e)&&(r|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(r|=(127&(e=this.readByte()))<<28)))),t?r:r>>>1^-(1&r)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",r=0;r<t;){var n=this.readByte();switch(n>>4){case 12:case 13:e+=String.fromCharCode((31&n)<<6|63&this.readByte()),r+=2;break;case 14:e+=String.fromCharCode((15&n)<<12|(63&this.readByte())<<6|63&this.readByte()),r+=3;break;default:e+=String.fromCharCode(n),r++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()},e);function e(t,e,r,n){void 0===e&&(e=new Array),void 0===r&&(r=0),void 0===n&&(n=new DataView(t.buffer)),this.strings=e,this.index=r,this.buffer=n}var U=function(t,e,r,n,a){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=a},c=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var p,e;function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new p.Pool(function(){return p.Utils.newFloatArray(16)})}p=t.core||(t.core={}),r.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,n=this.polygons,a=this.polygonPool,i=t.slots,o=i.length;r.length=0,a.freeAll(n);for(var s=n.length=0;s<o;s++){var l=i[s];if(l.bone.active){var h=l.getAttachment();if(h instanceof p.BoundingBoxAttachment){var c=h;r.push(c);var u=a.obtain();u.length!=c.worldVerticesLength&&(u=p.Utils.newFloatArray(c.worldVerticesLength)),n.push(u),c.computeWorldVertices(l,0,c.worldVerticesLength,u,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},r.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],l=s,h=0,c=s.length;h<c;h+=2){var u=l[h],p=l[h+1];t=Math.min(t,u),e=Math.min(e,p),r=Math.max(r,u),n=Math.max(n,p)}this.minX=t,this.minY=e,this.maxX=r,this.maxY=n},r.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},r.prototype.aabbIntersectsSegment=function(t,e,r,n){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&r<=a||e<=i&&n<=i||o<=t&&o<=r||s<=e&&s<=n)return!1;var l=(n-e)/(r-t),h=l*(a-t)+e;if(i<h&&h<s)return!0;if(i<(h=l*(o-t)+e)&&h<s)return!0;var c=(i-e)/l+t;return a<c&&c<o||a<(c=(s-e)/l+t)&&c<o},r.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},r.prototype.containsPoint=function(t,e){for(var r=this.polygons,n=0,a=r.length;n<a;n++)if(this.containsPointPolygon(r[n],t,e))return this.boundingBoxes[n];return null},r.prototype.containsPointPolygon=function(t,e,r){for(var n=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var l=n[s+1],h=n[i+1];if(l<r&&r<=h||h<r&&r<=l){var c=n[s];c+(r-l)/(h-l)*(n[i]-c)<e&&(o=!o)}i=s}return o},r.prototype.intersectsSegment=function(t,e,r,n){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,r,n))return this.boundingBoxes[i];return null},r.prototype.intersectsSegmentPolygon=function(t,e,r,n,a){for(var i=t,o=t.length,s=e-n,l=r-a,h=e*a-r*n,c=i[o-2],u=i[o-1],p=0;p<o;p+=2){var d=i[p],f=i[p+1],m=c*f-u*d,g=c-d,v=u-f,y=s*v-l*g,x=(h*g-s*m)/y;if((c<=x&&x<=d||d<=x&&x<=c)&&(e<=x&&x<=n||n<=x&&x<=e)){var M=(h*v-l*m)/y;if((u<=M&&M<=f||f<=M&&M<=u)&&(r<=M&&M<=a||a<=M&&M<=r))return!0}c=d,u=f}return!1},r.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},r.prototype.getWidth=function(){return this.maxX-this.minX},r.prototype.getHeight=function(){return this.maxY-this.minY},e=r,p.SkeletonBounds=e}(pixi_spine=pixi_spine||{}),function(t){var Z,e;function h(){this.triangulator=new Z.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}Z=t.core||(t.core={}),h.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var r=(this.clipAttachment=e).worldVerticesLength,n=Z.Utils.setArraySize(this.clippingPolygon,r);e.computeWorldVertices(t,0,r,n,0,2);var a=this.clippingPolygon;h.makeClockwise(a);for(var i=this.clippingPolygons=this.triangulator.decompose(a,this.triangulator.triangulate(a)),o=0,s=i.length;o<s;o++){var l=i[o];h.makeClockwise(l),l.push(l[0]),l.push(l[1])}return i.length},h.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},h.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},h.prototype.isClipping=function(){return null!=this.clipAttachment},h.prototype.clipTriangles=function(t,e,r,n,a,i,o,s){var l=this.clipOutput,h=this.clippedVertices,c=this.clippedTriangles,u=this.clippingPolygons,p=this.clippingPolygons.length,d=s?12:8,f=0;h.length=0;t:for(var m=c.length=0;m<n;m+=3)for(var g=r[m]<<1,v=t[g],y=t[g+1],x=a[g],M=a[g+1],w=t[g=r[m+1]<<1],E=t[g+1],T=a[g],b=a[g+1],S=t[g=r[m+2]<<1],I=t[g+1],A=a[g],R=a[g+1],C=0;C<p;C++){var P=h.length;if(!this.clip(v,y,w,E,S,I,u[C],l)){(X=Z.Utils.setArraySize(h,P+3*d))[P]=v,X[P+1]=y,X[P+2]=i.r,X[P+3]=i.g,X[P+4]=i.b,X[P+5]=i.a,s?(X[P+6]=x,X[P+7]=M,X[P+8]=o.r,X[P+9]=o.g,X[P+10]=o.b,X[P+11]=o.a,X[P+12]=w,X[P+13]=E,X[P+14]=i.r,X[P+15]=i.g,X[P+16]=i.b,X[P+17]=i.a,X[P+18]=T,X[P+19]=b,X[P+20]=o.r,X[P+21]=o.g,X[P+22]=o.b,X[P+23]=o.a,X[P+24]=S,X[P+25]=I,X[P+26]=i.r,X[P+27]=i.g,X[P+28]=i.b,X[P+29]=i.a,X[P+30]=A,X[P+31]=R,X[P+32]=o.r,X[P+33]=o.g,X[P+34]=o.b,X[P+35]=o.a):(X[P+6]=x,X[P+7]=M,X[P+8]=w,X[P+9]=E,X[P+10]=i.r,X[P+11]=i.g,X[P+12]=i.b,X[P+13]=i.a,X[P+14]=T,X[P+15]=b,X[P+16]=S,X[P+17]=I,X[P+18]=i.r,X[P+19]=i.g,X[P+20]=i.b,X[P+21]=i.a,X[P+22]=A,X[P+23]=R),P=c.length,(z=Z.Utils.setArraySize(c,P+3))[P]=f,z[P+1]=f+1,z[P+2]=f+2,f+=3;continue t}var V=l.length;if(0!=V){for(var k=E-I,_=S-w,N=v-S,F=I-y,O=1/(k*N+_*(y-I)),D=V>>1,U=this.clipOutput,X=Z.Utils.setArraySize(h,P+D*d),B=0;B<V;B+=2){var L=U[B],Y=U[B+1];X[P]=L,X[P+1]=Y,X[P+2]=i.r,X[P+3]=i.g,X[P+4]=i.b,X[P+5]=i.a;var W=L-S,q=Y-I,H=(k*W+_*q)*O,j=(F*W+N*q)*O,G=1-H-j;X[P+6]=x*H+T*j+A*G,X[P+7]=M*H+b*j+R*G,s&&(X[P+8]=o.r,X[P+9]=o.g,X[P+10]=o.b,X[P+11]=o.a),P+=d}P=c.length;var z=Z.Utils.setArraySize(c,P+3*(D-2));for(D--,B=1;B<D;B++)z[P]=f,z[P+1]=f+B,z[P+2]=f+B+1,P+=3;f+=D+1}}},h.prototype.clip=function(t,e,r,n,a,i,o,s){var l=s,h=!1,c=null;2<=o.length%4?(c=s,s=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(r),c.push(n),c.push(a),c.push(i),c.push(t),c.push(e),s.length=0;for(var u=o,p=o.length-4,d=0;;d+=2){for(var f=u[d],m=u[d+1],g=u[d+2],v=u[d+3],y=f-g,x=m-v,M=c,w=c.length-2,E=s.length,T=0;T<w;T+=2){var b=M[T],S=M[T+1],I=M[T+2],A=M[T+3],R=0<y*(A-v)-x*(I-g);if(0<y*(S-v)-x*(b-g)){if(R){s.push(I),s.push(A);continue}var C=((V=I-b)*(m-S)-(P=A-S)*(f-b))/(P*(g-f)-V*(v-m));s.push(f+(g-f)*C),s.push(m+(v-m)*C)}else if(R){var P,V;C=((V=I-b)*(m-S)-(P=A-S)*(f-b))/(P*(g-f)-V*(v-m)),s.push(f+(g-f)*C),s.push(m+(v-m)*C),s.push(I),s.push(A)}h=!0}if(E==s.length)return!(l.length=0);if(s.push(s[0]),s.push(s[1]),d==p)break;var k=s;(s=c).length=0,c=k}if(l!=s){d=l.length=0;for(var _=s.length-2;d<_;d++)l[d]=s[d]}else l.length=l.length-2;return h},h.makeClockwise=function(t){for(var e=t,r=t.length,n=e[r-2]*e[1]-e[0]*e[r-1],a=0,i=0,o=0,s=0,l=r-3;s<l;s+=2)a=e[s],i=e[s+1],o=e[s+2],n+=a*e[s+3]-o*i;if(!(n<0)){s=0;var h=r-2;for(l=r>>1;s<l;s+=2){var c=e[s],u=e[s+1],p=h-s;e[s]=e[p],e[s+1]=e[1+p],e[p]=c,e[1+p]=u}}},e=h,Z.SkeletonClipping=e}(pixi_spine=pixi_spine||{}),function(t){var e,r;function n(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}e=t.core||(t.core={}),n.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},n.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},n.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++){var a=e[r];if(a.name==t)return a}return null},n.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,r=0,n=e.length;r<n;r++)if(e[r].name==t)return r;return-1},r=n,e.SkeletonData=r}(pixi_spine=pixi_spine||{}),function(t){!function(tt){var t=(N.prototype.readSkeletonData=function(t){var e=this.scale,r=new tt.SkeletonData,n="string"==typeof t?JSON.parse(t):t,a=n.skeleton;if(null!=a&&(r.hash=a.hash,r.version=a.spine,r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height,r.fps=a.fps,r.imagesPath=a.images),n.bones)for(var i=0;i<n.bones.length;i++){var o=n.bones[i],s=null,l=this.getValue(o,"parent",null);if(null!=l&&null==(s=r.findBone(l)))throw new Error("Parent bone not found: "+l);(p=new tt.BoneData(r.bones.length,o.name,s)).length=this.getValue(o,"length",0)*e,p.x=this.getValue(o,"x",0)*e,p.y=this.getValue(o,"y",0)*e,p.rotation=this.getValue(o,"rotation",0),p.scaleX=this.getValue(o,"scaleX",1),p.scaleY=this.getValue(o,"scaleY",1),p.shearX=this.getValue(o,"shearX",0),p.shearY=this.getValue(o,"shearY",0),p.transformMode=N.transformModeFromString(this.getValue(o,"transform","normal")),p.skinRequired=this.getValue(o,"skin",!1),r.bones.push(p)}if(n.slots)for(i=0;i<n.slots.length;i++){var h=(b=n.slots[i]).name,c=b.bone,u=r.findBone(c);if(null==u)throw new Error("Slot bone not found: "+c);var p=new tt.SlotData(r.slots.length,h,u),d=this.getValue(b,"color",null);null!=d&&p.color.setFromString(d);var f=this.getValue(b,"dark",null);null!=f&&(p.darkColor=new tt.Color(1,1,1,1),p.darkColor.setFromString(f)),p.attachmentName=this.getValue(b,"attachment",null),p.blendMode=N.blendModeFromString(this.getValue(b,"blend","normal")),r.slots.push(p)}if(n.ik)for(i=0;i<n.ik.length;i++){var m=n.ik[i];(p=new tt.IkConstraintData(m.name)).order=this.getValue(m,"order",0),p.skinRequired=this.getValue(m,"skin",!1);for(var g=0;g<m.bones.length;g++){if(c=m.bones[g],null==(w=r.findBone(c)))throw new Error("IK bone not found: "+c);p.bones.push(w)}var v=m.target;if(p.target=r.findBone(v),null==p.target)throw new Error("IK target bone not found: "+v);p.mix=this.getValue(m,"mix",1),p.softness=this.getValue(m,"softness",0)*e,p.bendDirection=this.getValue(m,"bendPositive",!0)?1:-1,p.compress=this.getValue(m,"compress",!1),p.stretch=this.getValue(m,"stretch",!1),p.uniform=this.getValue(m,"uniform",!1),r.ikConstraints.push(p)}if(n.transform)for(i=0;i<n.transform.length;i++){for(m=n.transform[i],(p=new tt.TransformConstraintData(m.name)).order=this.getValue(m,"order",0),p.skinRequired=this.getValue(m,"skin",!1),g=0;g<m.bones.length;g++){if(c=m.bones[g],null==(w=r.findBone(c)))throw new Error("Transform constraint bone not found: "+c);p.bones.push(w)}if(v=m.target,p.target=r.findBone(v),null==p.target)throw new Error("Transform constraint target bone not found: "+v);p.local=this.getValue(m,"local",!1),p.relative=this.getValue(m,"relative",!1),p.offsetRotation=this.getValue(m,"rotation",0),p.offsetX=this.getValue(m,"x",0)*e,p.offsetY=this.getValue(m,"y",0)*e,p.offsetScaleX=this.getValue(m,"scaleX",0),p.offsetScaleY=this.getValue(m,"scaleY",0),p.offsetShearY=this.getValue(m,"shearY",0),p.rotateMix=this.getValue(m,"rotateMix",1),p.translateMix=this.getValue(m,"translateMix",1),p.scaleMix=this.getValue(m,"scaleMix",1),p.shearMix=this.getValue(m,"shearMix",1),r.transformConstraints.push(p)}if(n.path)for(i=0;i<n.path.length;i++){for(m=n.path[i],(p=new tt.PathConstraintData(m.name)).order=this.getValue(m,"order",0),p.skinRequired=this.getValue(m,"skin",!1),g=0;g<m.bones.length;g++){if(c=m.bones[g],null==(w=r.findBone(c)))throw new Error("Transform constraint bone not found: "+c);p.bones.push(w)}if(v=m.target,p.target=r.findSlot(v),null==p.target)throw new Error("Path target slot not found: "+v);p.positionMode=N.positionModeFromString(this.getValue(m,"positionMode","percent")),p.spacingMode=N.spacingModeFromString(this.getValue(m,"spacingMode","length")),p.rotateMode=N.rotateModeFromString(this.getValue(m,"rotateMode","tangent")),p.offsetRotation=this.getValue(m,"rotation",0),p.position=this.getValue(m,"position",0),p.positionMode==tt.PositionMode.Fixed&&(p.position*=e),p.spacing=this.getValue(m,"spacing",0),p.spacingMode!=tt.SpacingMode.Length&&p.spacingMode!=tt.SpacingMode.Fixed||(p.spacing*=e),p.rotateMix=this.getValue(m,"rotateMix",1),p.translateMix=this.getValue(m,"translateMix",1),r.pathConstraints.push(p)}if(n.skins)for(i=0;i<n.skins.length;i++){var y=n.skins[i],x=new tt.Skin(y.name);if(y.bones)for(var M=0;M<y.bones.length;M++){var w;if(null==(w=r.findBone(y.bones[M])))throw new Error("Skin bone not found: "+y.bones[i]);x.bones.push(w)}if(y.ik)for(M=0;M<y.ik.length;M++){if(null==(E=r.findIkConstraint(y.ik[M])))throw new Error("Skin IK constraint not found: "+y.ik[i]);x.constraints.push(E)}if(y.transform)for(M=0;M<y.transform.length;M++){if(null==(E=r.findTransformConstraint(y.transform[M])))throw new Error("Skin transform constraint not found: "+y.transform[i]);x.constraints.push(E)}if(y.path)for(M=0;M<y.path.length;M++){var E;if(null==(E=r.findPathConstraint(y.path[M])))throw new Error("Skin path constraint not found: "+y.path[i]);x.constraints.push(E)}for(var h in y.attachments){var T=r.findSlot(h);if(null==T)throw new Error("Slot not found: "+h);var b=y.attachments[h];for(var S in b){var I=this.readAttachment(b[S],x,T.index,S,r);null!=I&&x.setAttachment(T.index,S,I)}}r.skins.push(x),"default"==x.name&&(r.defaultSkin=x)}i=0;for(var A=this.linkedMeshes.length;i<A;i++){var R=this.linkedMeshes[i];if(null==(x=null==R.skin?r.defaultSkin:r.findSkin(R.skin)))throw new Error("Skin not found: "+R.skin);var C=x.getAttachment(R.slotIndex,R.parent);if(null==C)throw new Error("Parent mesh not found: "+R.parent);R.mesh.deformAttachment=R.inheritDeform?C:R.mesh,R.mesh.setParentMesh(C)}if(this.linkedMeshes.length=0,n.events)for(var P in n.events){var V=n.events[P];(p=new tt.EventData(P)).intValue=this.getValue(V,"int",0),p.floatValue=this.getValue(V,"float",0),p.stringValue=this.getValue(V,"string",""),p.audioPath=this.getValue(V,"audio",null),null!=p.audioPath&&(p.volume=this.getValue(V,"volume",1),p.balance=this.getValue(V,"balance",0)),r.events.push(p)}if(n.animations)for(var k in n.animations){var _=n.animations[k];this.readAnimation(_,k,r)}return r},N.prototype.readAttachment=function(t,e,r,n,a){var i=this.scale;switch(n=this.getValue(t,"name",n),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",n),s=this.attachmentLoader.newRegionAttachment(e,n,o);return null==s?null:(s.path=o,s.x=this.getValue(t,"x",0)*i,s.y=this.getValue(t,"y",0)*i,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*i,s.height=t.height*i,null!=(v=this.getValue(t,"color",null))&&s.color.setFromString(v),s.updateOffset(),s);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,n);return null==l?null:(this.readVertices(t,l,t.vertexCount<<1),null!=(v=this.getValue(t,"color",null))&&l.color.setFromString(v),l);case"mesh":case"linkedmesh":o=this.getValue(t,"path",n);var h=this.attachmentLoader.newMeshAttachment(e,n,o);if(null==h)return null;h.path=o,null!=(v=this.getValue(t,"color",null))&&h.color.setFromString(v),h.width=this.getValue(t,"width",0)*i,h.height=this.getValue(t,"height",0)*i;var c=this.getValue(t,"parent",null);if(null!=c)return this.linkedMeshes.push(new M(h,this.getValue(t,"skin",null),r,c,this.getValue(t,"deform",!0))),h;var u=t.uvs;return this.readVertices(t,h,u.length),h.triangles=t.triangles,h.regionUVs=new Float32Array(u),h.edges=this.getValue(t,"edges",null),h.hullLength=2*this.getValue(t,"hull",0),h;case"path":if(null==(o=this.attachmentLoader.newPathAttachment(e,n)))return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var p=t.vertexCount;this.readVertices(t,o,p<<1);for(var d=tt.Utils.newArray(p/3,0),f=0;f<t.lengths.length;f++)d[f]=t.lengths[f]*i;return o.lengths=d,null!=(v=this.getValue(t,"color",null))&&o.color.setFromString(v),o;case"point":var m=this.attachmentLoader.newPointAttachment(e,n);return null==m?null:(m.x=this.getValue(t,"x",0)*i,m.y=this.getValue(t,"y",0)*i,m.rotation=this.getValue(t,"rotation",0),null!=(v=this.getValue(t,"color",null))&&m.color.setFromString(v),m);case"clipping":var g=this.attachmentLoader.newClippingAttachment(e,n);if(null==g)return null;var v,y=this.getValue(t,"end",null);if(null!=y){var x=a.findSlot(y);if(null==x)throw new Error("Clipping end slot not found: "+y);g.endSlot=x}return p=t.vertexCount,this.readVertices(t,g,p<<1),null!=(v=this.getValue(t,"color",null))&&g.color.setFromString(v),g}return null},N.prototype.readVertices=function(t,e,r){var n=this.scale;e.worldVerticesLength=r;var a=t.vertices;if(r!=a.length){var i=new Array,o=new Array;for(c=0,u=a.length;c<u;){var s=a[c++];o.push(s);for(var l=c+4*s;c<l;c+=4)o.push(a[c]),i.push(a[c+1]*n),i.push(a[c+2]*n),i.push(a[c+3])}e.bones=o,e.vertices=tt.Utils.toFloatArray(i)}else{var h=tt.Utils.toFloatArray(a);if(1!=n)for(var c=0,u=a.length;c<u;c++)h[c]*=n;e.vertices=h}},N.prototype.readAnimation=function(t,e,r){var n=this.scale,a=new Array,i=0;if(t.slots)for(var o in t.slots){var s=t.slots[o];if(-1==(Z=r.findSlotIndex(o)))throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){(x=new tt.AttachmentTimeline(h.length)).slotIndex=Z;for(var c=0,u=0;u<h.length;u++){var p=h[u];x.setFrame(c++,this.getValue(p,"time",0),p.name)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}else if("color"==l){for((x=new tt.ColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){p=h[u];var d=new tt.Color;d.setFromString(p.color||"ffffffff"),x.setFrame(c,this.getValue(p,"time",0),d.r,d.g,d.b,d.a),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");for((x=new tt.TwoColorTimeline(h.length)).slotIndex=Z,u=c=0;u<h.length;u++){p=h[u];var f=new tt.Color,m=new tt.Color;f.setFromString(p.light),m.setFromString(p.dark),x.setFrame(c,this.getValue(p,"time",0),f.r,f.g,f.b,f.a,m.r,m.g,m.b),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var g in t.bones){var v=t.bones[g],y=r.findBoneIndex(g);if(-1==y)throw new Error("Bone not found: "+g);for(var l in v)if(h=v[l],"rotate"===l){for((x=new tt.RotateTimeline(h.length)).boneIndex=y,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"angle",0)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==l&&"scale"!==l&&"shear"!==l)throw new Error("Invalid timeline type for a bone: "+l+" ("+g+")");var x=null,M=1,w=0;for("scale"===l?(x=new tt.ScaleTimeline(h.length),w=1):"shear"===l?x=new tt.ShearTimeline(h.length):(x=new tt.TranslateTimeline(h.length),M=n),x.boneIndex=y,u=c=0;u<h.length;u++){p=h[u];var E=this.getValue(p,"x",w),T=this.getValue(p,"y",w);x.setFrame(c,this.getValue(p,"time",0),E*M,T*M),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}if(t.ik)for(var b in t.ik){var S=t.ik[b],I=r.findIkConstraint(b);for((x=new tt.IkConstraintTimeline(S.length)).ikConstraintIndex=r.ikConstraints.indexOf(I),u=c=0;u<S.length;u++)p=S[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*n,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var b in t.transform){for(S=t.transform[b],I=r.findTransformConstraint(b),(x=new tt.TransformConstraintTimeline(S.length)).transformConstraintIndex=r.transformConstraints.indexOf(I),u=c=0;u<S.length;u++)p=S[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var b in t.path){S=t.path[b];var A=r.findPathConstraintIndex(b);if(-1==A)throw new Error("Path constraint not found: "+b);var R=r.pathConstraints[A];for(var l in S)if(h=S[l],"position"===l||"spacing"===l){for(x=null,M=1,"spacing"===l?(x=new tt.PathConstraintSpacingTimeline(h.length),R.spacingMode!=tt.SpacingMode.Length&&R.spacingMode!=tt.SpacingMode.Fixed||(M=n)):(x=new tt.PathConstraintPositionTimeline(h.length),R.positionMode==tt.PositionMode.Fixed&&(M=n)),x.pathConstraintIndex=A,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,l,0)*M),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===l){for((x=new tt.PathConstraintMixTimeline(h.length)).pathConstraintIndex=A,u=c=0;u<h.length;u++)p=h[u],x.setFrame(c,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,x,c),c++;a.push(x),i=Math.max(i,x.frames[(x.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var C in t.deform){var P=t.deform[C],V=r.findSkin(C);if(null==V)throw new Error("Skin not found: "+C);for(var o in P){if(s=P[o],-1==(Z=r.findSlotIndex(o)))throw new Error("Slot not found: "+s.name);for(var l in s){h=s[l];var k=V.getAttachment(Z,l);if(null==k)throw new Error("Deform attachment not found: "+h.name);var _=null!=k.bones,N=k.vertices,F=_?N.length/3*2:N.length;(x=new tt.DeformTimeline(h.length)).slotIndex=Z,x.attachment=k;for(var O=c=0;O<h.length;O++){p=h[O];var D=void 0,U=this.getValue(p,"vertices",null);if(null==U)D=_?tt.Utils.newFloatArray(F):N;else{D=tt.Utils.newFloatArray(F);var X=this.getValue(p,"offset",0);if(tt.Utils.arrayCopy(U,0,D,X,U.length),1!=n)for(var B=(u=X)+U.length;u<B;u++)D[u]*=n;if(!_)for(u=0;u<F;u++)D[u]+=N[u]}x.setFrame(c,this.getValue(p,"time",0),D),this.readCurve(p,x,c),c++}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}}}var L=t.drawOrder;if(null==L&&(L=t.draworder),null!=L){x=new tt.DrawOrderTimeline(L.length);var Y=r.slots.length;for(O=c=0;O<L.length;O++){var W=L[O],q=null,H=this.getValue(W,"offsets",null);if(null!=H){q=tt.Utils.newArray(Y,-1);var j=tt.Utils.newArray(Y-H.length,0),G=0,z=0;for(u=0;u<H.length;u++){var Z,J=H[u];if(-1==(Z=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;G!=Z;)j[z++]=G++;q[G+J.offset]=G++}for(;G<Y;)j[z++]=G++;for(u=Y-1;0<=u;u--)-1==q[u]&&(q[u]=j[--z])}x.setFrame(c++,this.getValue(W,"time",0),q)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(t.events){for(x=new tt.EventTimeline(t.events.length),u=c=0;u<t.events.length;u++){var Q=t.events[u],K=r.findEvent(Q.name);if(null==K)throw new Error("Event not found: "+Q.name);var $=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(Q,"time",0)),K);$.intValue=this.getValue(Q,"int",K.intValue),$.floatValue=this.getValue(Q,"float",K.floatValue),$.stringValue=this.getValue(Q,"string",K.stringValue),null!=$.data.audioPath&&($.volume=this.getValue(Q,"volume",1),$.balance=this.getValue(Q,"balance",0)),x.setFrame(c++,$)}a.push(x),i=Math.max(i,x.frames[x.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new tt.Animation(e,a,i))},N.prototype.readCurve=function(t,e,r){if(t.curve)if("stepped"===t.curve)e.setStepped(r);else{var n=t.curve;e.setCurve(r,n,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},N.prototype.getValue=function(t,e,r){return void 0!==t[e]?t[e]:r},N.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},N.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},N.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},N.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},N.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},N);function N(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}tt.SkeletonJson=t;var M=function(t,e,r,n,a){this.mesh=t,this.skin=e,this.slotIndex=r,this.parent=n,this.inheritDeform=a}}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(l){var i=function(t,e,r){this.slotIndex=t,this.name=e,this.attachment=r};l.SkinEntry=i;var t=(e.prototype.setAttachment=function(t,e,r){if(null==r)throw new Error("attachment cannot be null.");var n=this.attachments;t>=n.length&&(n.length=t+1),n[t]||(n[t]={}),n[t][e]=r},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(n=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){n=!0;break}n||this.constraints.push(i)}var o=t.getAttachments();for(e=0;e<o.length;e++){var s=o[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var r=t.bones[e],n=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){n=!0;break}n||this.bones.push(r)}for(e=0;e<t.constraints.length;e++){var i=t.constraints[e];for(n=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){n=!0;break}n||this.constraints.push(i)}var o=t.getAttachments();for(e=0;e<o.length;e++){var s=o[e];null!=s.attachment&&(s.attachment instanceof l.MeshAttachment?s.attachment=s.attachment.newLinkedMesh():s.attachment=s.attachment.copy(),this.setAttachment(s.slotIndex,s.name,s.attachment))}},e.prototype.getAttachment=function(t,e){var r=this.attachments[t];return r?r[e]:null},e.prototype.removeAttachment=function(t,e){var r=this.attachments[t];r&&(r[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var r=this.attachments[e];if(r)for(var n in r){var a=r[n];a&&t.push(new i(e,n,a))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var r=this.attachments[t];if(r)for(var n in r){var a=r[n];a&&e.push(new i(t,n,a))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var r=0,n=0;n<t.slots.length;n++){var a=t.slots[n],i=a.getAttachment();if(i&&r<e.attachments.length){var o=e.attachments[r];for(var s in o)if(i==o[s]){var l=this.getAttachment(r,s);null!=l&&a.setAttachment(l);break}}r++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}l.Skin=t}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var r,e;function n(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new r.Color,this.darkColor=null==t.darkColor?null:new r.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}r=t.core||(t.core={}),n.prototype.getAttachment=function(){return this.attachment},n.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},n.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},n.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},n.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e=n,r.Slot=e}(pixi_spine=pixi_spine||{}),function(t){var n;function e(t,e,r){if(this.color=new n.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=r}(n=t.core||(t.core={})).SlotData=e}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e,r,n,a,i=(o.prototype.getImage=function(){return this._image},o.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},o.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},o);function o(t){this._image=t}t.Texture=i,(r=e=t.TextureFilter||(t.TextureFilter={}))[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.MipMap=9987]="MipMap",r[r.MipMapNearestNearest=9984]="MipMapNearestNearest",r[r.MipMapLinearNearest=9985]="MipMapLinearNearest",r[r.MipMapNearestLinear=9986]="MipMapNearestLinear",r[r.MipMapLinearLinear=9987]="MipMapLinearLinear",(a=n=t.TextureWrap||(t.TextureWrap={}))[a.MirroredRepeat=33648]="MirroredRepeat",a[a.ClampToEdge=33071]="ClampToEdge",a[a.Repeat=10497]="Repeat";var s=(Object.defineProperty(l.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),l);function l(){this.size=null}t.TextureRegion=s}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(I){var t=(e.prototype.addTexture=function(t,e){for(var r=this.pages,n=null,a=0;a<r.length;a++)if(r[a].baseTexture===e.baseTexture){n=r[a];break}if(null===n){(n=new A).name="texturePage";var i=e.baseTexture;n.width=i.realWidth,n.height=i.realHeight,n.baseTexture=i,n.minFilter=n.magFilter=I.TextureFilter.Nearest,n.uWrap=I.TextureWrap.ClampToEdge,n.vWrap=I.TextureWrap.ClampToEdge,r.push(n)}var o=new R;return o.name=t,o.page=n,o.texture=e,o.index=-1,this.regions.push(o),o},e.prototype.addTextureHash=function(t,e){for(var r in t)t.hasOwnProperty(r)&&this.addTexture(e&&-1!==r.indexOf(".")?r.substr(0,r.lastIndexOf(".")):r,t[r])},e.prototype.addSpineAtlas=function(t,e,r){return this.load(t,e,r)},e.prototype.load=function(t,x,M){var w=this;if(null==x)throw new Error("textureLoader cannot be null.");var E=new r(t),T=new Array(4),b=null,S=function(){for(;;){var t=E.readLine();if(null==t)return M&&M(w);if(0==(t=t.trim()).length)b=null;else{if(!b){(b=new A).name=t,2==E.readTuple(T)&&(b.width=parseInt(T[0]),b.height=parseInt(T[1]),E.readTuple(T)),E.readTuple(T),b.minFilter=I.Texture.filterFromString(T[0]),b.magFilter=I.Texture.filterFromString(T[1]);var e=E.readValue();b.uWrap=I.TextureWrap.ClampToEdge,b.vWrap=I.TextureWrap.ClampToEdge,"x"==e?b.uWrap=I.TextureWrap.Repeat:"y"==e?b.vWrap=I.TextureWrap.Repeat:"xy"==e&&(b.uWrap=b.vWrap=I.TextureWrap.Repeat),x(t,function(t){if(null===t)return w.pages.splice(w.pages.indexOf(b),1),M&&M(null);(b.baseTexture=t).hasLoaded||(t.width=b.width,t.height=b.height),w.pages.push(b),b.setFilters(),b.width&&b.height||(b.width=t.realWidth,b.height=t.realHeight,b.width&&b.height||console.log("ERROR spine atlas page "+b.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),S()}),w.pages.push(b);break}var r=new R;r.name=t,r.page=b;var n=E.readValue(),a=0;a="true"==n.toLocaleLowerCase()?6:"false"==n.toLocaleLowerCase()?0:(720-parseFloat(n))%360/45,E.readTuple(T);var i=parseInt(T[0]),o=parseInt(T[1]);E.readTuple(T);var s=parseInt(T[0]),l=parseInt(T[1]),h=b.baseTexture.resolution;i/=h,o/=h,s/=h,l/=h;var c=new PIXI.Rectangle(i,o,a?l:s,a?s:l);4==E.readTuple(T)&&4==E.readTuple(T)&&E.readTuple(T);var u=parseInt(T[0])/h,p=parseInt(T[1])/h;E.readTuple(T);var d=parseInt(T[0])/h,f=parseInt(T[1])/h,m=new PIXI.Rectangle(0,0,u,p),g=new PIXI.Rectangle(d,p-l-f,s,l);if("3"!=PIXI.VERSION[0])r.texture=new PIXI.Texture(r.page.baseTexture,c,m,g,a);else{var v=new PIXI.Rectangle(i,o,s,l),y=v.clone();g.width=u,g.height=p,r.texture=new PIXI.Texture(r.page.baseTexture,v,y,g,a)}r.index=parseInt(E.readValue()),r.texture._updateUvs(),w.regions.push(r)}}};S()},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},e);function e(t,e,r){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,r)}I.TextureAtlas=t;var r=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),r=e.indexOf(":");if(-1==r)throw new Error("Invalid line: "+e);for(var n=0,a=r+1;n<3;n++){var i=e.indexOf(",",a);if(-1==i)break;t[n]=e.substr(a,i-a).trim(),a=i+1}return t[n]=e.substring(a).trim(),n+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var A=(a.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==I.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==I.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=!0,e==I.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},a);function a(){}I.TextureAtlasPage=A;var i,R=(i=I.TextureRegion,__extends(o,i),o);function o(){return null!==i&&i.apply(this,arguments)||this}I.TextureAtlasRegion=R}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var P,e;function r(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new P.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var r=0;r<t.bones.length;r++)this.bones.push(e.findBone(t.bones[r].name));this.target=e.findBone(t.target.name)}P=t.core||(t.core={}),r.prototype.isActive=function(){return this.active},r.prototype.apply=function(){this.update()},r.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},r.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?P.MathUtils.degRad:-P.MathUtils.degRad,u=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,f=0,m=d.length;f<m;f++){var g=d[f],v=!1,y=g.matrix;if(0!=t){var x=y.a,M=y.c,w=y.b,E=y.d;(R=Math.atan2(l,o)-Math.atan2(w,x)+u)>P.MathUtils.PI?R-=P.MathUtils.PI2:R<-P.MathUtils.PI&&(R+=P.MathUtils.PI2),R*=t;var T=Math.cos(R),b=Math.sin(R);y.a=T*x-b*w,y.c=T*M-b*E,y.b=b*x+T*w,y.d=b*M+T*E,v=!0}if(0!=e){var S=this.temp;a.localToWorld(S.set(this.data.offsetX,this.data.offsetY)),y.tx+=(S.x-y.tx)*e,y.ty+=(S.y-y.ty)*e,v=!0}if(0<r){var I=Math.sqrt(y.a*y.a+y.b*y.b),A=Math.sqrt(o*o+l*l);1e-5<I&&(I=(I+(A-I+this.data.offsetScaleX)*r)/I),y.a*=I,y.b*=I,I=Math.sqrt(y.c*y.c+y.d*y.d),A=Math.sqrt(s*s+h*h),1e-5<I&&(I=(I+(A-I+this.data.offsetScaleY)*r)/I),y.c*=I,y.d*=I,v=!0}if(0<n){M=y.c,E=y.d;var R,C=Math.atan2(E,M);(R=Math.atan2(h,s)-Math.atan2(l,o)-(C-Math.atan2(y.b,y.a)))>P.MathUtils.PI?R-=P.MathUtils.PI2:R<-P.MathUtils.PI&&(R+=P.MathUtils.PI2),R=C+(R+p)*n,I=Math.sqrt(M*M+E*E),y.c=Math.cos(R)*I,y.d=Math.sin(R)*I,v=!0}v&&(g.appliedValid=!1)}},r.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target,i=a.matrix,o=i.a,s=i.c,l=i.b,h=i.d,c=0<o*h-s*l?P.MathUtils.degRad:-P.MathUtils.degRad,u=this.data.offsetRotation*c,p=this.data.offsetShearY*c,d=this.bones,f=0,m=d.length;f<m;f++){var g,v=d[f],y=!1,x=v.matrix;if(0!=t){var M=x.a,w=x.c,E=x.b,T=x.d;(g=Math.atan2(l,o)+u)>P.MathUtils.PI?g-=P.MathUtils.PI2:g<-P.MathUtils.PI&&(g+=P.MathUtils.PI2),g*=t;var b=Math.cos(g),S=Math.sin(g);x.a=b*M-S*E,x.c=b*w-S*T,x.b=S*M+b*E,x.d=S*w+b*T,y=!0}if(0!=e){var I=this.temp;a.localToWorld(I.set(this.data.offsetX,this.data.offsetY)),x.tx+=I.x*e,x.ty+=I.y*e,y=!0}if(0<r){var A=(Math.sqrt(o*o+l*l)-1+this.data.offsetScaleX)*r+1;x.a*=A,x.b*=A,A=(Math.sqrt(s*s+h*h)-1+this.data.offsetScaleY)*r+1,x.c*=A,x.d*=A,y=!0}if(0<n)(g=Math.atan2(h,s)-Math.atan2(l,o))>P.MathUtils.PI?g-=P.MathUtils.PI2:g<-P.MathUtils.PI&&(g+=P.MathUtils.PI2),w=x.c,T=x.d,g=Math.atan2(T,w)+(g-P.MathUtils.PI/2+p)*n,A=Math.sqrt(w*w+T*T),x.c=Math.cos(g)*A,x.d=Math.sin(g)*A,y=!0;y&&(v.appliedValid=!1)}},r.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;if(0!=t){var c=a.arotation-h+this.data.offsetRotation;h+=(c-=360*(16384-(16384.499999999996-c/360|0)))*t}var u=l.ax,p=l.ay;0!=e&&(u+=(a.ax-u+this.data.offsetX)*e,p+=(a.ay-p+this.data.offsetY)*e);var d=l.ascaleX,f=l.ascaleY;0<r&&(1e-5<d&&(d=(d+(a.ascaleX-d+this.data.offsetScaleX)*r)/d),1e-5<f&&(f=(f+(a.ascaleY-f+this.data.offsetScaleY)*r)/f));var m=l.ashearY;0<n&&(c=a.ashearY-m+this.data.offsetShearY,c-=360*(16384-(16384.499999999996-c/360|0)),l.shearY+=c*n),l.updateWorldTransformWith(u,p,h,d,f,l.ashearX,m)}},r.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,r=this.scaleMix,n=this.shearMix,a=this.target;a.appliedValid||a.updateAppliedTransform();for(var i=this.bones,o=0,s=i.length;o<s;o++){var l=i[o];l.appliedValid||l.updateAppliedTransform();var h=l.arotation;0!=t&&(h+=(a.arotation+this.data.offsetRotation)*t);var c=l.ax,u=l.ay;0!=e&&(c+=(a.ax+this.data.offsetX)*e,u+=(a.ay+this.data.offsetY)*e);var p=l.ascaleX,d=l.ascaleY;0<r&&(1e-5<p&&(p*=(a.ascaleX-1+this.data.offsetScaleX)*r+1),1e-5<d&&(d*=(a.ascaleY-1+this.data.offsetScaleY)*r+1));var f=l.ashearY;0<n&&(f+=(a.ashearY+this.data.offsetShearY)*n),l.updateWorldTransformWith(c,u,h,p,d,l.ashearX,f)}},e=r,P.TransformConstraint=e}(pixi_spine=pixi_spine||{}),function(t){var e,r,n;function a(t){var e=r.call(this,t,0,!1)||this;return e.bones=new Array,e.rotateMix=0,e.translateMix=0,e.scaleMix=0,e.shearMix=0,e.offsetRotation=0,e.offsetX=0,e.offsetY=0,e.offsetScaleX=0,e.offsetScaleY=0,e.offsetShearY=0,e.relative=!1,e.local=!1,e}e=t.core||(t.core={}),r=e.ConstraintData,__extends(a,r),n=a,e.TransformConstraintData=n}(pixi_spine=pixi_spine||{}),function(t){var e,r;function L(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new e.Pool(function(){return new Array}),this.polygonIndicesPool=new e.Pool(function(){return new Array})}e=t.core||(t.core={}),L.prototype.triangulate=function(t){for(var e=t,r=t.length>>1,n=this.indicesArray,a=n.length=0;a<r;a++)n[a]=a;for(var i=this.isConcaveArray,o=(a=i.length=0,r);a<o;++a)i[a]=L.isConcave(a,r,e,n);var s=this.triangles;for(s.length=0;3<r;){for(var l=r-1,h=(a=0,1);;){t:if(!i[a]){for(var c=n[l]<<1,u=n[a]<<1,p=n[h]<<1,d=e[c],f=e[1+c],m=e[u],g=e[1+u],v=e[p],y=e[1+p],x=(h+1)%r;x!=l;x=(x+1)%r)if(i[x]){var M=n[x]<<1,w=e[M],E=e[1+M];if(L.positiveArea(v,y,d,f,w,E)&&L.positiveArea(d,f,m,g,w,E)&&L.positiveArea(m,g,v,y,w,E))break t}break}if(0==h){do{if(!i[a])break;a--}while(0<a);break}l=a,h=((a=h)+1)%r}s.push(n[(r+a-1)%r]),s.push(n[a]),s.push(n[(a+1)%r]),n.splice(a,1),i.splice(a,1);var T=(--r+a-1)%r,b=a==r?0:a;i[T]=L.isConcave(T,r,e,n),i[b]=L.isConcave(b,r,e,n)}return 3==r&&(s.push(n[2]),s.push(n[0]),s.push(n[1])),s},L.prototype.decompose=function(t,e){var r=t,n=this.convexPolygons;this.polygonPool.freeAll(n),n.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var i=this.polygonIndicesPool.obtain();i.length=0;for(var o=this.polygonPool.obtain(),s=-1,l=o.length=0,h=0,c=e.length;h<c;h+=3){var u=e[h]<<1,p=e[h+1]<<1,d=e[h+2]<<1,f=r[u],m=r[1+u],g=r[p],v=r[1+p],y=r[d],x=r[1+d],M=!1;if(s==u){var w=o.length-4,E=L.winding(o[w],o[w+1],o[w+2],o[w+3],y,x),T=L.winding(y,x,o[0],o[1],o[2],o[3]);E==l&&T==l&&(o.push(y),o.push(x),i.push(d),M=!0)}M||(0<o.length?(n.push(o),a.push(i)):(this.polygonPool.free(o),this.polygonIndicesPool.free(i)),(o=this.polygonPool.obtain()).length=0,o.push(f),o.push(m),o.push(g),o.push(v),o.push(y),o.push(x),(i=this.polygonIndicesPool.obtain()).length=0,i.push(u),i.push(p),i.push(d),l=L.winding(f,m,g,v,y,x),s=u)}for(0<o.length&&(n.push(o),a.push(i)),h=0,c=n.length;h<c;h++)if(0!=(i=a[h]).length)for(var b=i[0],S=i[i.length-1],I=(o=n[h])[w=o.length-4],A=o[w+1],R=o[w+2],C=o[w+3],P=o[0],V=o[1],k=o[2],_=o[3],N=L.winding(I,A,R,C,P,V),F=0;F<c;F++)if(F!=h){var O=a[F];if(3==O.length){var D=O[0],U=O[1],X=O[2],B=n[F];y=B[B.length-2],x=B[B.length-1],D==b&&U==S&&(E=L.winding(I,A,R,C,y,x),T=L.winding(y,x,P,V,k,_),E==N&&T==N&&(B.length=0,O.length=0,o.push(y),o.push(x),i.push(X),I=R,A=C,R=y,C=x,F=0))}}for(h=n.length-1;0<=h;h--)0==(o=n[h]).length&&(n.splice(h,1),this.polygonPool.free(o),i=a[h],a.splice(h,1),this.polygonIndicesPool.free(i));return n},L.isConcave=function(t,e,r,n){var a=n[(e+t-1)%e]<<1,i=n[t]<<1,o=n[(t+1)%e]<<1;return!this.positiveArea(r[a],r[1+a],r[i],r[1+i],r[o],r[1+o])},L.positiveArea=function(t,e,r,n,a,i){return 0<=t*(i-n)+r*(e-i)+a*(n-e)},L.winding=function(t,e,r,n,a,i){var o=r-t,s=n-e;return 0<=a*s-i*o+o*e-t*s?1:-1},r=L,e.Triangulator=r}(pixi_spine=pixi_spine||{}),function(t){!function(t){var e=(r.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},r.prototype.contains=function(t){return null!=this.array[0|t]},r.prototype.remove=function(t){this.array[0|t]=void 0},r.prototype.clear=function(){this.array.length=0},r);function r(){this.array=new Array}t.IntSet=e;var n=(a.prototype.set=function(t,e,r,n){return this.r=t,this.g=e,this.b=r,this.a=n,this.clamp(),this},a.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},a.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},a.prototype.add=function(t,e,r,n){return this.r+=t,this.g+=e,this.b+=r,this.a+=n,this.clamp(),this},a.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},a.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},a.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},a.WHITE=new a(1,1,1,1),a.RED=new a(1,0,0,1),a.GREEN=new a(0,1,0,1),a.BLUE=new a(0,0,1,1),a.MAGENTA=new a(1,0,1,1),a);function a(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.r=t,this.g=e,this.b=r,this.a=n}t.Color=n;var i=(o.clamp=function(t,e,r){return t<e?e:r<t?r:t},o.cosDeg=function(t){return Math.cos(t*o.degRad)},o.sinDeg=function(t){return Math.sin(t*o.degRad)},o.signum=function(t){return 0<t?1:t<0?-1:0},o.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},o.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},o.randomTriangular=function(t,e){return o.randomTriangularWith(t,e,.5*(t+e))},o.randomTriangularWith=function(t,e,r){var n=Math.random(),a=e-t;return n<=(r-t)/a?t+Math.sqrt(n*a*(r-t)):e-Math.sqrt((1-n)*a*(e-r))},o.PI2=2*(o.PI=3.1415927),o.radDeg=o.radiansToDegrees=180/o.PI,o.degRad=o.degreesToRadians=o.PI/180,o);function o(){}t.MathUtils=i;var s=(l.prototype.apply=function(t,e,r){return t+(e-t)*this.applyInternal(r)},l);function l(){}t.Interpolation=s;var h,c=(__extends(u,h=s),u.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},u);function u(t){var e=h.call(this)||this;return e.power=2,e.power=t,e}t.Pow=c;var p,d=(__extends(f,p=c),f.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},f);function f(t){return p.call(this,t)||this}t.PowOut=d;var m=(g.arrayCopy=function(t,e,r,n,a){for(var i=e,o=n;i<e+a;i++,o++)r[o]=t[i]},g.setArraySize=function(t,e,r){void 0===r&&(r=0);var n=t.length;if(n==e)return t;if(n<(t.length=e))for(var a=n;a<e;a++)t[a]=r;return t},g.ensureArrayCapacity=function(t,e,r){return void 0===r&&(r=0),t.length>=e?t:g.setArraySize(t,e,r)},g.newArray=function(t,e){for(var r=new Array(t),n=0;n<t;n++)r[n]=e;return r},g.newFloatArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},g.newShortArray=function(t){if(g.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),r=0;r<e.length;r++)e[r]=0;return e},g.toFloatArray=function(t){return g.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},g.toSinglePrecision=function(t){return g.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},g.webkit602BugfixHelper=function(t,e){},g.contains=function(t,e,r){void 0===r&&(r=!0);for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},g.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,g);function g(){}t.Utils=m;var v=(y.logBones=function(t){for(var e=0;e<t.bones.length;e++){var r=t.bones[e],n=r.matrix;console.log(r.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.tx+", "+n.ty)}},y);function y(){}t.DebugUtils=v;var x=(M.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},M.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},M.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},M.prototype.clear=function(){this.items.length=0},M);function M(t){this.items=new Array,this.instantiator=t}t.Pool=x;var w=(E.prototype.set=function(t,e){return this.x=t,this.y=e,this},E.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},E.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},E);function E(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=w;var T=(b.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},b);function b(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=T;var S=(I.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},I.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},I.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},I);function I(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=S}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){!function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t;var r,n=(__extends(a,r=t),a.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},a.prototype.computeWorldVertices=function(t,e,r,n,a,i){r=a+(r>>1)*i;var o=t.bone.skeleton,s=t.deform,l=this.vertices,h=this.bones;if(null!=h){for(var c=0,u=0,p=0;p<e;p+=2)c+=(g=h[c])+1,u+=g;var d=o.bones;if(0==s.length)for(R=a,b=3*u;R<r;R+=i){var f=0,m=0,g=h[c++];for(g+=c;c<g;c++,b+=3){M=d[h[c]].matrix,C=l[b],P=l[b+1];var v=l[b+2];f+=(C*M.a+P*M.c+M.tx)*v,m+=(C*M.b+P*M.d+M.ty)*v}n[R]=f,n[R+1]=m}else for(var y=s,x=(R=a,b=3*u,u<<1);R<r;R+=i){for(m=f=0,g=h[c++],g+=c;c<g;c++,b+=3,x+=2)M=d[h[c]].matrix,C=l[b]+y[x],P=l[b+1]+y[x+1],v=l[b+2],f+=(C*M.a+P*M.c+M.tx)*v,m+=(C*M.b+P*M.d+M.ty)*v;n[R]=f,n[R+1]=m}}else{0<s.length&&(l=s);for(var M,w=(M=t.bone.matrix).tx,E=M.ty,T=M.a,b=M.c,S=M.b,I=M.d,A=e,R=a;R<r;A+=2,R+=i){var C=l[A],P=l[A+1];n[R]=C*T+P*b+w,n[R+1]=C*S+P*I+E}}},a.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},a.nextID=0,a);function a(t){var e=r.call(this,t)||this;return e.id=(65535&a.nextID++)<<11,e.worldVerticesLength=0,e.deformAttachment=e}e.VertexAttachment=n}(t.core||(t.core={}))}(pixi_spine=pixi_spine||{}),function(t){var e,r;e=t.core||(t.core={}),(r=e.AttachmentType||(e.AttachmentType={}))[r.Region=0]="Region",r[r.BoundingBox=1]="BoundingBox",r[r.Mesh=2]="Mesh",r[r.LinkedMesh=3]="LinkedMesh",r[r.Path=4]="Path",r[r.Point=5]="Point",r[r.Clipping=6]="Clipping"}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function a(t){var e=n.call(this,t)||this;return e.color=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(a,n),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.color.setFromColor(this.color),t},e=a,r.BoundingBoxAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function a(t){var e=n.call(this,t)||this;return e.color=new r.Color(.2275,.2275,.8078,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(a,n),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e=a,r.ClippingAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var d,r,e;function n(t){var e=r.call(this,t)||this;return e.color=new d.Color(1,1,1,1),e.tempColor=new d.Color(0,0,0,0),e}d=t.core||(t.core={}),r=d.VertexAttachment,__extends(n,r),n.prototype.updateUVs=function(t,e){var r=this.regionUVs.length;if(e&&e.length==r||(e=d.Utils.newFloatArray(r)),null!=t){for(var n=t.texture._uvs,a=t.width,i=t.height,o=t.originalWidth,s=t.originalHeight,l=t.offsetX,h=t.pixiOffsetY,c=0;c<r;c+=2){var u=this.regionUVs[c],p=this.regionUVs[c+1];u=(u*o-l)/a,p=(p*s-h)/i,e[c]=(n.x0*(1-u)+n.x1*u)*(1-p)+(n.x3*(1-u)+n.x2*u)*p,e[c+1]=(n.y0*(1-u)+n.y1*u)*(1-p)+(n.y3*(1-u)+n.y2*u)*p}return e}},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),d.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),d.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),d.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),d.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},n.prototype.newLinkedMesh=function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},e=n,d.MeshAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function a(t){var e=n.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.VertexAttachment,__extends(a,n),a.prototype.copy=function(){var t=new a(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),r.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e=a,r.PathAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var o,r,e;function n(t){var e=r.call(this,t)||this;return e.color=new o.Color(.38,.94,0,1),e}o=t.core||(t.core={}),r=o.VertexAttachment,__extends(n,r),n.prototype.computeWorldPosition=function(t,e){var r=t.matrix;return e.x=this.x*r.a+this.y*r.c+t.worldX,e.y=this.x*r.b+this.y*r.d+t.worldY,e},n.prototype.computeWorldRotation=function(t){var e=t.matrix,r=o.MathUtils.cosDeg(this.rotation),n=o.MathUtils.sinDeg(this.rotation),a=r*e.a+n*e.c,i=r*e.b+n*e.d;return Math.atan2(i,a)*o.MathUtils.radDeg},n.prototype.copy=function(){var t=new n(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e=n,o.PointAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var r,n,e;function y(t){var e=n.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new r.Color(1,1,1,1),e.offset=r.Utils.newFloatArray(8),e.uvs=r.Utils.newFloatArray(8),e.tempColor=new r.Color(1,1,1,1),e}r=t.core||(t.core={}),n=r.Attachment,__extends(y,n),y.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,n=-this.height/2*this.scaleY+this.region.offsetY*e,a=r+this.region.width*t,i=n+this.region.height*e,o=this.rotation*Math.PI/180,s=Math.cos(o),l=Math.sin(o),h=r*s+this.x,c=r*l,u=n*s+this.y,p=n*l,d=a*s+this.x,f=a*l,m=i*s+this.y,g=i*l,v=this.offset;v[y.OX1]=h-p,v[y.OY1]=u+c,v[y.OX2]=h-g,v[y.OY2]=m+c,v[y.OX3]=d-g,v[y.OY3]=m+f,v[y.OX4]=d-p,v[y.OY4]=u+f},y.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},y.prototype.computeWorldVertices=function(t,e,r,n){var a=this.offset,i=t.matrix,o=i.tx,s=i.ty,l=i.a,h=i.c,c=i.b,u=i.d,p=0,d=0;p=a[y.OX1],d=a[y.OY1],e[r]=p*l+d*h+o,e[r+1]=p*c+d*u+s,r+=n,p=a[y.OX2],d=a[y.OY2],e[r]=p*l+d*h+o,e[r+1]=p*c+d*u+s,r+=n,p=a[y.OX3],d=a[y.OY3],e[r]=p*l+d*h+o,e[r+1]=p*c+d*u+s,r+=n,p=a[y.OX4],d=a[y.OY4],e[r]=p*l+d*h+o,e[r+1]=p*c+d*u+s},y.prototype.copy=function(){var t=new y(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,r.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),r.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},y.OX1=0,y.OY1=1,y.OX2=2,y.OY2=3,y.OX3=4,y.OY3=5,y.OX4=6,y.OY4=7,y.X1=0,y.Y1=1,y.C1R=2,y.C1G=3,y.C1B=4,y.C1A=5,y.U1=6,y.V1=7,y.X2=8,y.Y2=9,y.C2R=10,y.C2G=11,y.C2B=12,y.C2A=13,y.U2=14,y.V2=15,y.X3=16,y.Y3=17,y.C3R=18,y.C3G=19,y.C3B=20,y.C3A=21,y.U3=22,y.V3=23,y.X4=24,y.Y4=25,y.C4R=26,y.C4G=27,y.C4B=28,y.C4A=29,y.U4=30,y.V4=31,e=y,r.RegionAttachment=e}(pixi_spine=pixi_spine||{}),function(t){var a,e;function r(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}a=t.core||(t.core={}),r.prototype.begin=function(t){},r.prototype.transform=function(t,e,r,n){t.x+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=a.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},r.prototype.end=function(){},e=r,a.JitterEffect=e}(pixi_spine=pixi_spine||{}),function(t){var u,e;function p(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}u=t.core||(t.core={}),p.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},p.prototype.transform=function(t,e,r,n){var a=this.angle*u.MathUtils.degreesToRadians,i=t.x-this.worldX,o=t.y-this.worldY,s=Math.sqrt(i*i+o*o);if(s<this.radius){var l=p.interpolation.apply(0,a,(this.radius-s)/this.radius),h=Math.cos(l),c=Math.sin(l);t.x=h*i-c*o+this.worldX,t.y=c*i+h*o+this.worldY}},p.prototype.end=function(){},p.interpolation=new u.PowOut(2),e=p,u.SwirlEffect=e}(pixi_spine=pixi_spine||{}),function(){var e;Math.fround||(Math.fround=Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(V){V.core.Bone.yDown=!0;var e,k=[0,0,0],r=(e=PIXI.Sprite,__extends(t,e),t);function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.region=null,t}V.SpineSprite=r;var i,o=(i=PIXI.mesh.Mesh,__extends(n,i),n);function n(t,e,r,n,a){return i.call(this,t,e,r,n,a)||this}V.SpineMesh=o;var c,a=(c=PIXI.Container,__extends(s,c),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this.updateTransform===s.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?s.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:s.globalDelayLimit)||Number.MAX_VALUE},enumerable:!0,configurable:!0}),s.prototype.update=function(t){var e=this.delayLimit;if(e<t&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var r=this.skeleton.slots,n=this.color,a=null,i=null;n?(a=n.light,i=n.dark):a=this.tintRgb;for(var o=PIXI.TransformBase&&1==this.transformHack(),s=0,l=r.length;s<l;s++){var h=(C=r[s]).getAttachment(),c=this.slotContainers[s];if(h){var u=null,p=h.color;if(h instanceof V.core.RegionAttachment){var d=h.region;if(d){C.currentMesh&&(C.currentMesh.visible=!1,C.currentMesh=null,C.currentMeshName=void 0);var f=d;if(!C.currentSpriteName||C.currentSpriteName!==f.name){var m=f.name;if(C.currentSprite&&(C.currentSprite.visible=!1),C.sprites=C.sprites||{},void 0!==C.sprites[m])C.sprites[m].visible=!0;else{var g=this.createSprite(C,h,m);c.addChild(g)}C.currentSprite=C.sprites[m],C.currentSpriteName=m}}if(c.transform){var v=x=c.transform,y=null;v.matrix2d?(y=v.matrix2d,v._dirtyVersion++,v.version=v._dirtyVersion,v.isStatic=!0,v.operMode=0):o?(v.position&&((x=new PIXI.TransformBase)._parentID=-1,x._worldID=c.transform._worldID,c.transform=x),y=x.localTransform):v.setFromMatrix(C.bone.matrix),y&&C.bone.matrix.copy(y)}else y=c.localTransform||new PIXI.Matrix,C.bone.matrix.copy(y),c.localTransform=y,c.displayObjectUpdateTransform=_;C.currentSprite.color?u=C.currentSprite.color:(k[0]=a[0]*C.color.r*p.r,k[1]=a[1]*C.color.g*p.g,k[2]=a[2]*C.color.b*p.b,C.currentSprite.tint=PIXI.utils.rgb2hex(k)),C.currentSprite.blendMode=C.blendMode}else if(h instanceof V.core.MeshAttachment){var x;if(C.currentSprite&&(C.currentSprite.visible=!1,C.currentSprite=null,C.currentSpriteName=void 0,c.transform?((x=new PIXI.TransformStatic)._parentID=-1,x._worldID=c.transform._worldID,c.transform=x):(c.localTransform=new PIXI.Matrix,c.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!C.currentMeshName||C.currentMeshName!==h.name){var M=h.name;if(C.currentMesh&&(C.currentMesh.visible=!1),C.meshes=C.meshes||{},void 0!==C.meshes[M])C.meshes[M].visible=!0;else{var w=this.createMesh(C,h);c.addChild(w)}C.currentMesh=C.meshes[M],C.currentMeshName=M}if(h.computeWorldVerticesOld(C,C.currentMesh.vertices),C.currentMesh.color)u=C.currentMesh.color;else if("3"!==PIXI.VERSION[0]){var E=C.currentMesh.tintRgb;E[0]=a[0]*C.color.r*p.r,E[1]=a[1]*C.color.g*p.g,E[2]=a[2]*C.color.b*p.b}C.currentMesh.blendMode=C.blendMode}else{if(!(h instanceof V.core.ClippingAttachment)){c.visible=!1;continue}C.currentGraphics||(this.createGraphics(C,h),c.addChild(C.clippingContainer),c.addChild(C.currentGraphics)),this.updateGraphics(C,h)}if(c.visible=!0,u){var T=C.color.r*p.r,b=C.color.g*p.g,S=C.color.b*p.b;u.setLight(a[0]*T+i[0]*(1-T),a[1]*b+i[1]*(1-b),a[2]*S+i[2]*(1-S)),S=C.darkColor?(T=C.darkColor.r,b=C.darkColor.g,C.darkColor.b):b=T=0,u.setDark(a[0]*T+i[0]*(1-T),a[1]*b+i[1]*(1-b),a[2]*S+i[2]*(1-S))}c.alpha=C.color.a}else c.visible=!1}var I=this.skeleton.drawOrder,A=null,R=null;for(s=0,l=I.length;s<l;s++){var C=r[I[s].data.index];if(c=this.slotContainers[I[s].data.index],R||null!==c.parent&&c.parent!==this&&(c.parent.removeChild(c),c.parent=this),C.currentGraphics&&C.getAttachment())R=C.clippingContainer,A=C.getAttachment(),R.children.length=0,this.children[s]=c,A.endSlot==C.data&&(A.endSlot=null);else if(R){var P=this.tempClipContainers[s];P||((P=this.tempClipContainers[s]=this.newContainer()).visible=!1),this.children[s]=P,c.parent=null,R.addChild(c),A.endSlot==C.data&&(R.renderable=!0,A=R=null)}else this.children[s]=c}}},s.prototype.setSpriteRegion=function(t,e,r){e.region=r,e.texture=r.texture,r.size?(e.scale.x=r.size.width/r.originalWidth,e.scale.y=-r.size.height/r.originalHeight):(e.scale.x=t.scaleX*t.width/r.originalWidth,e.scale.y=-t.scaleY*t.height/r.originalHeight)},s.prototype.setMeshRegion=function(t,e,r){e.region=r,e.texture=r.texture,r.texture._updateUvs(),t.updateUVs(r,e.uvs),e.dirty++},s.prototype.autoUpdateTransform=function(){if(s.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},s.prototype.createSprite=function(t,e,r){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var a=n.texture,i=this.newSprite(a);return i.rotation=e.rotation*V.core.MathUtils.degRad,i.anchor.x=.5,i.anchor.y=.5,i.position.x=e.x,i.position.y=e.y,i.alpha=e.color.a,i.region=e.region,this.setSpriteRegion(e,i,e.region),t.sprites=t.sprites||{},t.sprites[r]=i},s.prototype.createMesh=function(t,e){var r=e.region;t.tempAttachment===e&&(r=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var n=this.newMesh(r.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return n.canvasPadding=1.5,n.alpha=e.color.a,n.region=e.region,this.setMeshRegion(e,n,r),t.meshes=t.meshes||{},t.meshes[e.name]=n},s.prototype.createGraphics=function(t,e){var r=this.newGraphics(),n=new PIXI.Polygon([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(n),r.renderable=!1,t.currentGraphics=r,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,r},s.prototype.updateGraphics=function(t,e){var r=t.currentGraphics.graphicsData[0].shape.points,n=e.worldVerticesLength;r.length=n,e.computeWorldVertices(t,0,n,r,0,2),t.currentGraphics.dirty++,t.currentGraphics.clearDirty++},s.prototype.hackTextureBySlotIndex=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.slots[t];if(!n)return!1;var a=n.getAttachment(),i=a.region;return e&&((i=new V.core.TextureRegion).texture=e,i.size=r),n.currentSprite&&n.currentSprite.region!=i?(this.setSpriteRegion(a,n.currentSprite,i),n.currentSprite.region=i):n.currentMesh&&n.currentMesh.region!=i?this.setMeshRegion(a,n.currentMesh,i):(n.tempRegion=i,n.tempAttachment=a),!0},s.prototype.hackTextureBySlotName=function(t,e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=this.skeleton.findSlotIndex(t);return-1!=n&&this.hackTextureBySlotIndex(n,e,r)},s.prototype.newContainer=function(){return new PIXI.Container},s.prototype.newSprite=function(t){return new r(t)},s.prototype.newGraphics=function(){return new PIXI.Graphics},s.prototype.newMesh=function(t,e,r,n,a){return new o(t,e,r,n,a)},s.prototype.transformHack=function(){return 1},s.prototype.hackAttachmentGroups=function(t,e,r){if(t){for(var n=[],a=[],i=0,o=this.skeleton.slots.length;i<o;i++){var s=this.skeleton.slots[i],l=s.currentSpriteName||s.currentMeshName||"",h=s.currentSprite||s.currentMesh;l.endsWith(t)?(h.parentGroup=e,a.push(h)):r&&h&&(h.parentGroup=r,n.push(h))}return[n,a]}},s.prototype.destroy=function(t){for(var e=0,r=this.skeleton.slots.length;e<r;e++){var n=this.skeleton.slots[e];for(var a in n.meshes)n.meshes[a].destroy(t);for(var i in n.meshes=null,n.sprites)n.sprites[i].destroy(t);n.sprites=null}for(e=0,r=this.slotContainers.length;e<r;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,c.prototype.destroy.call(this,t)},s.globalAutoUpdate=!0,s.globalDelayLimit=0,s.clippingPolygon=[],s);function s(t){var e=c.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');e.spineData=t,e.skeleton=new V.core.Skeleton(t),e.skeleton.updateWorldTransform(),e.stateData=new V.core.AnimationStateData(t),e.state=new V.core.AnimationState(e.stateData),e.slotContainers=[],e.tempClipContainers=[];for(var r=0,n=e.skeleton.slots.length;r<n;r++){var a=e.skeleton.slots[r],i=a.getAttachment(),o=e.newContainer();if(e.slotContainers.push(o),e.addChild(o),e.tempClipContainers.push(null),i instanceof V.core.RegionAttachment){var s=i.region.name,l=e.createSprite(a,i,s);a.currentSprite=l,a.currentSpriteName=s,o.addChild(l)}else if(i instanceof V.core.MeshAttachment){var h=e.createMesh(a,i);a.currentMesh=h,a.currentMeshName=i.name,o.addChild(h)}else{if(!(i instanceof V.core.ClippingAttachment))continue;e.createGraphics(a,i),o.addChild(a.clippingContainer),o.addChild(a.currentGraphics)}}return e.autoUpdate=!0,e.tintRgb=new Float32Array([1,1,1]),e}function _(){var t=this.parent.worldTransform,e=this.worldTransform,r=this.localTransform;e.a=r.a*t.a+r.b*t.c,e.b=r.a*t.b+r.b*t.d,e.c=r.c*t.a+r.d*t.c,e.d=r.c*t.b+r.d*t.d,e.tx=r.tx*t.a+r.ty*t.c+t.tx,e.ty=r.tx*t.b+r.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}V.Spine=a}(pixi_spine=pixi_spine||{}),function(t){PIXI.spine=t;var e=PIXI.Texture.prototype;e._updateUvs||(e._updateUvs=e.updateUvs)}(pixi_spine=pixi_spine||{}),function(y){var x=PIXI.loaders.Resource;function t(){return function(e,r){if(!e.data)return r();var t=function(t){return t.type==x.TYPE.JSON}(e)&&e.data.bones,n=function(t){return t.xhrType==x.XHR_RESPONSE_TYPE.BUFFER}(e)&&("skel"===e.extension||e.metadata.spineMetadata);if(!t&&!n)return r();var a=null,i=e.data;t?a=new y.core.SkeletonJson(null):(a=new y.core.SkeletonBinary(null),e.data instanceof ArrayBuffer&&(i=new Uint8Array(e.data)));var o=e.metadata||{},s=o?e.metadata.spineSkeletonScale:null;s&&(a.scale=s);var l=o?e.metadata.spineAtlas:null;if(!1===l)return r();if(l&&l.pages)return a.attachmentLoader=new y.core.AtlasAttachmentLoader(l),e.spineData=a.readSkeletonData(i),e.spineAtlas=l,r();var h=o.spineAtlasSuffix||".atlas",c=e.url,u=c.indexOf("?");0<u&&(c=c.substr(0,u)),c=c.substr(0,c.lastIndexOf("."))+h,e.metadata&&e.metadata.spineAtlasFile&&(c=e.metadata.spineAtlasFile),c=c.replace(this.baseUrl,"");var p={crossOrigin:e.crossOrigin,xhrType:x.XHR_RESPONSE_TYPE.TEXT,metadata:o.spineMetadata||null,parentResource:e},d={crossOrigin:e.crossOrigin,metadata:o.imageMetadata||null,parentResource:e},f=e.url.substr(0,e.url.lastIndexOf("/")+1);f=f.replace(this.baseUrl,"");function m(t){new y.core.TextureAtlas(t,v,function(t){t&&(a.attachmentLoader=new y.core.AtlasAttachmentLoader(t),e.spineData=a.readSkeletonData(i),e.spineAtlas=t),r()})}var g=o.imageNamePrefix||e.name+"_atlas_page_",v=o.images?w(o.images):o.image?w({default:o.image}):o.imageLoader?o.imageLoader(this,g,f,d):M(this,g,f,d);e.metadata&&e.metadata.atlasRawData?m(e.metadata.atlasRawData):this.add(e.name+"_atlas",c,p,function(t){t.error?r():m(t.data)})}}function M(o,s,l,h){return l&&l.lastIndexOf("/")!==l.length-1&&(l+="/"),function(t,e){var r=s+t,n=l+t,a=o.resources[r];if(a){function i(){e(a.texture.baseTexture)}a.texture?i():a.onAfterMiddleware.add(i)}else o.add(r,n,h,function(t){t.error?e(null):e(t.texture.baseTexture)})}}function w(n){return function(t,e){var r=n[t]||n.default;r&&r.baseTexture?e(r.baseTexture):e(r)}}x.setExtensionXhrType("skel",x.XHR_RESPONSE_TYPE.BUFFER),y.atlasParser=t,y.imageLoaderAdapter=M,y.syncImageLoaderAdapter=function(t,r){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,e){e(PIXI.BaseTexture.fromImage(t,r))}},y.staticImageLoader=w,PIXI.loaders.Loader&&(PIXI.loaders.Loader.addPixiMiddleware(t),PIXI.loader.use(t()))}(pixi_spine=pixi_spine||{});